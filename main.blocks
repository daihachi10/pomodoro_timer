<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="c}Ej8]s}@;/B#TJ?)wI2">isTimerStart</variable><variable id="WCCvIv[Xi=?Z[A9^/dV|">isBreakTime</variable><variable id="~5e,#}3;X!v+j0D{EEX%">mode</variable><variable id="w0-dKlR#w1fVDv~$lCXE">lastmode</variable><variable id=".N3zx-Ja/x;xftWRf[*R">startTime</variable><variable id="LL~YZUMd##]oie-52Af%">targetTime</variable><variable id="G*pTt.oc9p%U)7RqO9JL">remainingMillis</variable><variable id=",2:hWe$]o5Q|-HA7~VA]">remainingMinutes</variable><variable id="9KGL$3g:cSYdYd$sA$eE">elapsedTimeMillis</variable><variable id="z3-XD40T7~9W*Yr33?nB">elapsedMinutes</variable><variable id="yAuOHd?ndMeDA/Xw*l3g">currentTime</variable><variable id=";Ts_ts8_-hO@opIHr0(y">duration</variable><variable id="pKx2!%lj#9HAL2+C/VJ1">remainingRatio</variable><variable id="r49^F=bCTLG*?f]D;},6">finishedMode</variable></variables><block type="pxt-on-start" id="ux;ko/[?!-KCZ?$pUQ=h" x="0" y="0"><statement name="HANDLER"><block type="variables_set" id="pPRN-d*gAM?Cw-7f%5dk"><field name="VAR" id="~5e,#}3;X!v+j0D{EEX%">mode</field><comment pinned="false" h="80" w="160">----------------------------------------
変数定義
----------------------------------------</comment><value name="VALUE"><shadow type="math_number" id="kP27q@oSVNcPsB|12Z))"><field name="NUM">25</field></shadow></value><next><block type="variables_set" id="ScJV=Bzz}{!;)t]tdxC5"><field name="VAR" id="w0-dKlR#w1fVDv~$lCXE">lastmode</field><comment pinned="false" h="80" w="160">休憩に入る前のモードを保存</comment><value name="VALUE"><shadow type="math_number" id="1IohZos[{7g~1@1+X|Fa"><field name="NUM">25</field></shadow></value><next><block type="serial_redirect" id="[-qErO/hzf.99`+mDtQi"><field name="tx">SerialPin.USB_TX</field><field name="rx">SerialPin.USB_RX</field><field name="rate">BaudRate.BaudRate115200</field><comment pinned="false" h="80" w="160">開始時刻 (ミリ秒)
----------------------------------------
接続関連 (USBシリアル通信)
----------------------------------------</comment><next><block type="variables_set" id="/|kNa2dcI6,blk,X]Itc"><field name="VAR" id="~5e,#}3;X!v+j0D{EEX%">mode</field><comment pinned="false" h="80" w="160">----------------------------------------
起動時の初期設定
----------------------------------------</comment><value name="VALUE"><shadow type="math_number" id="x^V@yfNk5z:^%.6?p~`A"><field name="NUM">25</field></shadow></value><next><block type="variables_set" id="S:IK9tQ/.j0rXRi}=$M?"><field name="VAR" id="w0-dKlR#w1fVDv~$lCXE">lastmode</field><value name="VALUE"><shadow type="math_number" id="PxvQn:}GxK^4Bk6=,b|d"><field name="NUM">25</field></shadow></value><next><block type="variables_set" id="`]AtgY59O.ww4*zn^Lzo"><field name="VAR" id="c}Ej8]s}@;/B#TJ?)wI2">isTimerStart</field><value name="VALUE"><shadow type="math_number" id="_fz^7|J/(],Pi|V=-[yM"><field name="NUM">0</field></shadow><block type="logic_boolean" id="}/k0y(N4j$Z?2qs^l1%b"><field name="BOOL">FALSE</field></block></value><next><block type="variables_set" id="rjpgahI)`LK)78E`8F@E"><field name="VAR" id="WCCvIv[Xi=?Z[A9^/dV|">isBreakTime</field><value name="VALUE"><shadow type="math_number" id="19V5R/[Z*${DTUAo11s0"><field name="NUM">0</field></shadow><block type="logic_boolean" id="N(f/rLI.[?#U:K![Ixms"><field name="BOOL">FALSE</field></block></value><next><block type="device_show_number" id="pnf=KPPEYy=MjTB6r08D"><value name="number"><block type="variables_get" id="lJqW~ON6!@x^laV8dFGK"><field name="VAR" id="~5e,#}3;X!v+j0D{EEX%">mode</field></block></value><next><block type="device_pause" id="fcv*,Y,+x;g4eBf{_L-s"><value name="pause"><shadow type="timePicker" id="xzb)S/{7tpPMWd0W-@@l"><field name="ms">500</field></shadow></value><next><block type="device_clear_display" id="W#)8id`*a6.Qz%XxG*DG"></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="NS2:s:X+lBCHyl/o#zdV" x="439" y="0"><field name="NAME">Button.A</field><comment pinned="false" h="80" w="160">Aボタン: 新規タイマー開始 or 休憩から復帰</comment><data>0</data><statement name="HANDLER"><block type="controls_if" id="B4H4HajwIgo%v=M373bl"><mutation elseif="1"></mutation><value name="IF0"><shadow type="logic_boolean" id="3Sk/{!dcpeeTD#mCSibF"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="]6JB1#wra!.b7k~KWnQ8"><value name="BOOL"><shadow type="logic_boolean" id="!o_y:(CD0?{@3u8p]^|I"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id=".xM2x?wc/SIjW6;9=(Qa"><field name="VAR" id="c}Ej8]s}@;/B#TJ?)wI2">isTimerStart</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="RAeGvCj%k9`uX?K0zU9~"><field name="VAR" id="WCCvIv[Xi=?Z[A9^/dV|">isBreakTime</field><value name="VALUE"><shadow type="math_number" id="w}.=b[9BZfU5cs*Ik~gh"><field name="NUM">0</field></shadow><block type="logic_boolean" id="XZXH=x2.?;OIPPt1VZn;"><field name="BOOL">FALSE</field></block></value><next><block type="variables_set" id="3/Sx74@Sqo!/0wq^lKWJ"><field name="VAR" id="~5e,#}3;X!v+j0D{EEX%">mode</field><value name="VALUE"><shadow type="math_number" id="Dv55,*}{bu3}sEde{(Pq"><field name="NUM">0</field></shadow><block type="variables_get" id="xD=Tahb~Fj{R;1kk:!1c"><field name="VAR" id="w0-dKlR#w1fVDv~$lCXE">lastmode</field></block></value><next><block type="variables_set" id="~ZlX*L$8uCkbQv7B/nO3"><field name="VAR" id="c}Ej8]s}@;/B#TJ?)wI2">isTimerStart</field><value name="VALUE"><shadow type="math_number" id="Atzh6!9{`I^CPL6t:C!|"><field name="NUM">0</field></shadow><block type="logic_boolean" id="u#K+]Ls#O*JngZ/E0!y3"><field name="BOOL">TRUE</field></block></value><next><block type="variables_set" id="4:!v$8e#Xm,Li1b-0upY"><field name="VAR" id=".N3zx-Ja/x;xftWRf[*R">startTime</field><value name="VALUE"><shadow type="math_number" id="$Nm:akZi+6:c934WLc~b"><field name="NUM">0</field></shadow><block type="device_get_running_time" id="5OFQqVbj^q=E8Iyuc5OO"></block></value><next><block type="variables_set" id="4YQOwe|[?CE,_*uW$]_y"><field name="VAR" id="LL~YZUMd##]oie-52Af%">targetTime</field><value name="VALUE"><shadow type="math_number" id="1Lz$Wj:;V}e7=O@bG(/}"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="N-=VH(9J8g6bPIbBoM0a"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="![jC*,uDR:g*Dz|BB{XC"><field name="NUM">0</field></shadow><block type="variables_get" id="sXyux@,BC(;f)cX/^L0l"><field name="VAR" id=".N3zx-Ja/x;xftWRf[*R">startTime</field></block></value><value name="B"><shadow type="math_number" id="/ng[1af;0e0/rQ(S-L!p"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="]8klL6oFFCbvsfi:Kev~"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="*KG$3;zR`K}Mt+aV;d)u"><field name="NUM">0</field></shadow><block type="variables_get" id="Q(v[Myc95(Qw_hDbALC-"><field name="VAR" id="~5e,#}3;X!v+j0D{EEX%">mode</field></block></value><value name="B"><shadow type="math_number" id="ukF@5h5B/l.e|LPD?Z^q"><field name="NUM">60000</field></shadow></value></block></value></block></value><next><block type="device_print_message" id="pZBTZWW;[szn2M1Vwjus"><value name="text"><shadow type="text" id="i.(t{RuDxq]._#p)7%lj"><field name="TEXT">S</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement><value name="IF1"><shadow type="logic_boolean" id="*i}l~O!5c!r~O|D/vSr)"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="qSYlrx[qQ#*A)P^f2kUl"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id="4YY?B+9R[rqh3dfm;N(`"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="g8c)7!Z/qL2BQEuCFQa~"><field name="VAR" id="c}Ej8]s}@;/B#TJ?)wI2">isTimerStart</field></block></value><value name="B"><shadow type="logic_boolean" id="S)E1N.Skx|-d)=KjJ$R;"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="Tyy}8k`zD=:!B=1FU1i:"><field name="VAR" id="WCCvIv[Xi=?Z[A9^/dV|">isBreakTime</field></block></value></block></value><statement name="DO1"><block type="variables_set" id="*+~}{fnXDKt=#Kyzh3$7"><field name="VAR" id="WCCvIv[Xi=?Z[A9^/dV|">isBreakTime</field><value name="VALUE"><shadow type="math_number" id="%P=Jdw]`4QNOk?M{1Y,U"><field name="NUM">0</field></shadow><block type="logic_boolean" id="!ijyh49%;_v(+_a9H9*N"><field name="BOOL">FALSE</field></block></value><next><block type="variables_set" id="pa2kx4(paFN8g:CAB?+I"><field name="VAR" id="~5e,#}3;X!v+j0D{EEX%">mode</field><value name="VALUE"><shadow type="math_number" id="+oJ@tBSqZ)878iQ%jiHM"><field name="NUM">0</field></shadow><block type="variables_get" id="H]Zt6FmYKYV`l4}{+~m0"><field name="VAR" id="w0-dKlR#w1fVDv~$lCXE">lastmode</field></block></value><next><block type="variables_set" id="uv}/8fF^!HSSzYD8;~F0"><field name="VAR" id="c}Ej8]s}@;/B#TJ?)wI2">isTimerStart</field><value name="VALUE"><shadow type="math_number" id="7ud{!}h4K+b0!Q!T2./w"><field name="NUM">0</field></shadow><block type="logic_boolean" id="xIvRqiD2NOCNNIvg$Eet"><field name="BOOL">TRUE</field></block></value><next><block type="variables_set" id="C@B=?=yv5VN[17R^aPEZ"><field name="VAR" id=".N3zx-Ja/x;xftWRf[*R">startTime</field><value name="VALUE"><shadow type="math_number" id="s:OsL^0_6(@v`X}Sj7`q"><field name="NUM">0</field></shadow><block type="device_get_running_time" id=",n/_uyM{WM^ARi?I+%#$"></block></value><next><block type="variables_set" id="X@Ez0uF`^|TPtd9KY-7["><field name="VAR" id="LL~YZUMd##]oie-52Af%">targetTime</field><value name="VALUE"><shadow type="math_number" id="W#bvXmz^y~7tZ[Ne.S,I"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="1PggUUMxmxwE~8E@r,K)"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="=l6/PKx-XpyX)xzo=fu7"><field name="NUM">0</field></shadow><block type="variables_get" id="P*:0H{.x$J/Grp4uCPsX"><field name="VAR" id=".N3zx-Ja/x;xftWRf[*R">startTime</field></block></value><value name="B"><shadow type="math_number" id="HR4:{rMzE[XPSv1?0,#$"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="bO17DrZwIeNl~!YTjym!"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="c|hb}/KscR:bvxG7g#:N"><field name="NUM">0</field></shadow><block type="variables_get" id="pyfsh|6vTX|DW*TE4JQ+"><field name="VAR" id="~5e,#}3;X!v+j0D{EEX%">mode</field></block></value><value name="B"><shadow type="math_number" id="lVI{NJxiI/X!lz}t}Kks"><field name="NUM">60000</field></shadow></value></block></value></block></value><next><block type="device_print_message" id="[1Hhl?pyMS./OQ(PF#MP"><value name="text"><shadow type="text" id="qu9mF-E_O!i!=EavK%t}"><field name="TEXT">S</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement></block><block type="device_button_event" id="MZ-Wu,8Cr7ed`I/81RYG" x="1203" y="0"><field name="NAME">Button.B</field><comment pinned="false" h="80" w="160">Bボタン: （停止中）モード切替 / （作動中）残り時間表示</comment><statement name="HANDLER"><block type="controls_if" id="/2yscxIXj4NUHcRDWXVs"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean" id=";xt{CN^Iv:g6Z!E5cM,b"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="OG0Ze%T,!yYg~B/2Jilb"><field name="VAR" id="c}Ej8]s}@;/B#TJ?)wI2">isTimerStart</field></block></value><statement name="DO0"><block type="variables_set" id="$M*YJ3DHyxcLS4[;nU=Q"><field name="VAR" id="G*pTt.oc9p%U)7RqO9JL">remainingMillis</field><value name="VALUE"><shadow type="math_number" id="-p,=E]l1+KIjt]/;~6!H"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="@a=!z{i5HU[j`Fu4%urY"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="|4J,,BG_rfxy]#doT!FL"><field name="NUM">0</field></shadow><block type="variables_get" id="~{bJc|zAwIQ?u0[[J^Tu"><field name="VAR" id="LL~YZUMd##]oie-52Af%">targetTime</field></block></value><value name="B"><shadow type="math_number" id="UW;E#!+2mI^SX]Fsz}|9"><field name="NUM">0</field></shadow><block type="device_get_running_time" id="ug:poE0Bi5Phz%uQJ_ae"></block></value></block></value><next><block type="variables_set" id="@*f/65u~:/jf8:cm^~Sa"><field name="VAR" id=",2:hWe$]o5Q|-HA7~VA]">remainingMinutes</field><comment pinned="false" h="80" w="160">★★★ 要望2: Math.ceilを削除し、小数点以下も表示 ★★★</comment><value name="VALUE"><shadow type="math_number" id="jj_Ug=nN]dBrK-I2446N"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="3B22;~#cy`;okexpyg?m"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number" id="(LMt](PqP6@VU@DJ=[lw"><field name="NUM">0</field></shadow><block type="variables_get" id="353q^/r8)yXQz*@1G(_b"><field name="VAR" id="G*pTt.oc9p%U)7RqO9JL">remainingMillis</field></block></value><value name="B"><shadow type="math_number" id="w/_J74P*n*Z^Jlo150D-"><field name="NUM">60000</field></shadow></value></block></value><next><block type="device_show_number" id="vJ0og`oleM30_GEwV|re"><value name="number"><block type="variables_get" id="6qF-KXefD1L-RbHpaC0!"><field name="VAR" id=",2:hWe$]o5Q|-HA7~VA]">remainingMinutes</field></block></value><next><block type="device_pause" id="a~1DrAYK@W:xlROP5KLl"><value name="pause"><shadow type="timePicker" id="_;1[:6ZfWlW16dEqwUs1"><field name="ms">1500</field></shadow></value></block></next></block></next></block></next></block></statement><statement name="ELSE"><block type="controls_if" id="2~w2}h/X?)us`X#nqgOv"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean" id="E[TsuUTL+)kVPuv7iXZv"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="9GeN!ED?Uf~Bh~1+_nAB"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="d07$JV!k;Bclt7HeSI:`"><field name="NUM">0</field></shadow><block type="variables_get" id="]Cf==O4@F;w3vu5f7(vR"><field name="VAR" id="~5e,#}3;X!v+j0D{EEX%">mode</field></block></value><value name="B"><shadow type="math_number" id="Jy5W=xU[qn4N1ti[Yuud"><field name="NUM">25</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="/1(0w2v9QY[tRhWM);ub"><field name="VAR" id="~5e,#}3;X!v+j0D{EEX%">mode</field><value name="VALUE"><shadow type="math_number" id="|bHhA}TE.lBf1nn:M[GX"><field name="NUM">50</field></shadow></value></block></statement><statement name="ELSE"><block type="variables_set" id="5K}-HRrPa}73uhWDwBkn"><field name="VAR" id="~5e,#}3;X!v+j0D{EEX%">mode</field><value name="VALUE"><shadow type="math_number" id="ehy?CLN2MzqZmcI2DCQ]"><field name="NUM">25</field></shadow></value></block></statement><next><block type="variables_set" id="IG`P+)B8Y7CO%/.himwK"><field name="VAR" id="w0-dKlR#w1fVDv~$lCXE">lastmode</field><value name="VALUE"><shadow type="math_number" id="FXV*nQZr=)LgxQ3aX?uK"><field name="NUM">0</field></shadow><block type="variables_get" id="Fa3,)K|WK/?;t;kWI9dT"><field name="VAR" id="~5e,#}3;X!v+j0D{EEX%">mode</field></block></value><next><block type="device_show_number" id="?![~/5Y_y@d@jMTC+sz_"><value name="number"><block type="variables_get" id="$j`j2MV|~3u|YQ1wJ/`*"><field name="VAR" id="~5e,#}3;X!v+j0D{EEX%">mode</field></block></value><next><block type="device_pause" id="2qiSMF4bb*si$D#gYG|)"><value name="pause"><shadow type="timePicker" id="[8`h5rWtzi5;!!WRgo#u"><field name="ms">1000</field></shadow></value><next><block type="device_clear_display" id="E_]zT5wBph{]eDML.Sgf"></block></next></block></next></block></next></block></next></block></statement></block></statement></block><block type="device_button_event" id="0.km}54uq_z64%t6*++f" x="1968" y="0"><field name="NAME">Button.AB</field><comment pinned="false" h="80" w="160">★★★ 要望1: A+Bボタンの機能を全面的に変更 ★★★
ABボタン: 途中停止し、経過時間を送信して休憩を開始</comment><statement name="HANDLER"><block type="controls_if" id="s^J{Q,l5)H$;nfP+Vm,{"><comment pinned="false" h="80" w="160">勉強タイマーが動いている時（休憩中でない時）のみ反応</comment><value name="IF0"><shadow type="logic_boolean" id="YH.1]]]3^yc~9sjIah}h"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="V^9`mfK|x.~KN[/}7I*o"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id="5Vh=(t8@;P8dvBd_B6OZ"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="$wV}.Xi-Iu8D}[hS+DOz"><field name="VAR" id="c}Ej8]s}@;/B#TJ?)wI2">isTimerStart</field></block></value><value name="B"><shadow type="logic_boolean" id="^zig.7e,q}m~`}]1e1LN"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="F`F:B|-|/sN+o|LmJk*K"><value name="BOOL"><shadow type="logic_boolean" id="nh#tUt~x*_A?D]E**$4/"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="C[(J%:6(i7R*-@}e|kd9"><field name="VAR" id="WCCvIv[Xi=?Z[A9^/dV|">isBreakTime</field></block></value></block></value></block></value><statement name="DO0"><block type="variables_set" id="sYGNQ;)z56~*w0E5ayrz"><field name="VAR" id="9KGL$3g:cSYdYd$sA$eE">elapsedTimeMillis</field><comment pinned="false" h="80" w="160">1. そこまでの経過時間（分）を計算</comment><value name="VALUE"><shadow type="math_number" id="AQ`#LC4v*SJU^8tMOtQh"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="#C@3^_0-ip0=%evd)F[Y"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="HdY]/qKW/F)OW4(:PDV!"><field name="NUM">0</field></shadow><block type="device_get_running_time" id="HmJ-//-k_8.k3`W;kndH"></block></value><value name="B"><shadow type="math_number" id="7j,]v`^+r;BZ;ULA7L[D"><field name="NUM">0</field></shadow><block type="variables_get" id=".C^]!%Lk1K[[(eof/l])"><field name="VAR" id=".N3zx-Ja/x;xftWRf[*R">startTime</field></block></value></block></value><next><block type="variables_set" id="(Q:R5Zd$dGx))Z?*;smI"><field name="VAR" id="z3-XD40T7~9W*Yr33?nB">elapsedMinutes</field><value name="VALUE"><shadow type="math_number" id="cL/H^N=Ye.3p~~G-i9D,"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="TwyjNX{:~_W{hY!+SW8M"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number" id="9$EQ%0SsT|~N82#%(?,d"><field name="NUM">0</field></shadow><block type="variables_get" id="I:uB9PY%DBty[_Xebd]="><field name="VAR" id="9KGL$3g:cSYdYd$sA$eE">elapsedTimeMillis</field></block></value><value name="B"><shadow type="math_number" id="_1d.=Gnp,b8agjAtw3[~"><field name="NUM">60000</field></shadow></value></block></value><next><block type="serial_writeline" id="a^e[taxs0r`]oOYIP_2n"><comment pinned="false" h="80" w="160">2. PCに経過時間（数字のみ）を送信</comment><value name="text"><block type="variables_get" id="HGyxqaNxSxMNhnnZc]/t"><field name="VAR" id="z3-XD40T7~9W*Yr33?nB">elapsedMinutes</field></block></value><next><block type="variables_set" id="ZZ4aPHKg/cQt8e+$MV/7"><field name="VAR" id="WCCvIv[Xi=?Z[A9^/dV|">isBreakTime</field><comment pinned="false" h="80" w="160">3. そのまま休憩モードに移行（シェイクの時と同じ処理）</comment><value name="VALUE"><shadow type="math_number" id="~Fn(sA?zXE7!KR9twyEy"><field name="NUM">0</field></shadow><block type="logic_boolean" id="JrSDa=H[,mq.lS$)1?2Z"><field name="BOOL">TRUE</field></block></value><next><block type="variables_set" id="s8k[JEGm5Z3uuF{?XyrZ"><field name="VAR" id="w0-dKlR#w1fVDv~$lCXE">lastmode</field><comment pinned="false" h="80" w="160">現在のモードを保存</comment><value name="VALUE"><shadow type="math_number" id="EXD^ha=yQ;p]*P1`ZzSS"><field name="NUM">0</field></shadow><block type="variables_get" id="a|}tBeKrRV3z/@*Z8fk_"><field name="VAR" id="~5e,#}3;X!v+j0D{EEX%">mode</field></block></value><next><block type="variables_set" id="d~@Vj#GB(+FR*$Kb`;8t"><field name="VAR" id="~5e,#}3;X!v+j0D{EEX%">mode</field><comment pinned="false" h="80" w="160">休憩モード(5分)に設定</comment><value name="VALUE"><shadow type="math_number" id="U-w[|bg*#82*dtdp^=,7"><field name="NUM">5</field></shadow></value><next><block type="variables_set" id="H]0,(S]r/SVLLQcq1D!."><field name="VAR" id="c}Ej8]s}@;/B#TJ?)wI2">isTimerStart</field><data>{"commentRefs":[],"fieldData":{}}</data><value name="VALUE"><shadow type="math_number" id="U,GL@/KXIwl,f2Me0?.5"><field name="NUM">0</field></shadow><block type="logic_boolean" id="9^eA,us:B-vLgJR_V-ad"><field name="BOOL">TRUE</field></block></value><next><block type="variables_set" id="J*Db^#Kg9qYARX%iTD6Q"><field name="VAR" id=".N3zx-Ja/x;xftWRf[*R">startTime</field><value name="VALUE"><shadow type="math_number" id="V=m{2x8:zGcIN)AL6Vha"><field name="NUM">0</field></shadow><block type="device_get_running_time" id="8_zbGVb8M9ejjM*@Q}77"></block></value><next><block type="variables_set" id="#{ZIpywvfUO|^HulFUrj"><field name="VAR" id="LL~YZUMd##]oie-52Af%">targetTime</field><value name="VALUE"><shadow type="math_number" id=":}f{%M|20;1dcj,L_Kb0"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="HS[+#F0l=o+v@QAuic)w"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="4jPixkWl-]a_]2mZbJl-"><field name="NUM">0</field></shadow><block type="variables_get" id="#T;!e;{I{nN({@+_H{Uh"><field name="VAR" id=".N3zx-Ja/x;xftWRf[*R">startTime</field></block></value><value name="B"><shadow type="math_number" id="9#XgN!jfSrrckWU5_rGd"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="c]:g8NXS6fiT5%ypFUNQ"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="J8XeQbq(Xj:u|txL`4^H"><field name="NUM">0</field></shadow><block type="variables_get" id="Pif#psXLzXJxfTpa5nB,"><field name="VAR" id="~5e,#}3;X!v+j0D{EEX%">mode</field></block></value><value name="B"><shadow type="math_number" id="#)91K`CYI3Jdy);^hERX"><field name="NUM">60000</field></shadow></value></block></value></block></value><next><block type="basic_show_icon" id="I3D0-WfoB7{TX5lT`iq%"><field name="i">IconNames.Asleep</field><comment pinned="false" h="80" w="160">休憩モードの合図</comment></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement></block><block type="device_forever" id="aN45;^jAJ}}3Veb@;uh." x="2767" y="0"><comment pinned="false" h="80" w="160">----------------------------------------
メインループ
----------------------------------------</comment><statement name="HANDLER"><block type="controls_if" id="UNEMUx6!/R[W;L43oesY"><value name="IF0"><shadow type="logic_boolean" id="3edRVlXhT_-)kS:btZ=b"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id=";/o`i]NB@beUDQuq)CKI"><field name="VAR" id="c}Ej8]s}@;/B#TJ?)wI2">isTimerStart</field></block></value><statement name="DO0"><block type="variables_set" id="6HfdC-[;5v0W[YWeHt#8"><field name="VAR" id="yAuOHd?ndMeDA/Xw*l3g">currentTime</field><value name="VALUE"><shadow type="math_number" id="Olfb$!Z^q*U_QLX+{49Y"><field name="NUM">0</field></shadow><block type="device_get_running_time" id="?sZe_e!FE3jVv,_Rl$dS"></block></value><next><block type="variables_set" id="t2bfF%LPCqaX)[vUTwmh"><field name="VAR" id=";Ts_ts8_-hO@opIHr0(y">duration</field><value name="VALUE"><shadow type="math_number" id="A.SCcB?q7ps*MDVG;WlU"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="mCbxxIn/_Myj)+JMk`Ci"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="QWV8cc.pMK1tD,E%5K!/"><field name="NUM">0</field></shadow><block type="variables_get" id="?$j%.Jlmc*]5QpFnrQe1"><field name="VAR" id="~5e,#}3;X!v+j0D{EEX%">mode</field></block></value><value name="B"><shadow type="math_number" id=")`7+m;=Ye4dz-ym.wT+0"><field name="NUM">60000</field></shadow></value></block></value><next><block type="variables_set" id=",pa`6F1}rO79422P6:,S"><field name="VAR" id="pKx2!%lj#9HAL2+C/VJ1">remainingRatio</field><value name="VALUE"><shadow type="math_number" id=".{o-TE$dR[3=![_(WpiS"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="tYI~^0(H_4@^.]%[z-3["><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number" id="nF~*E?98)JEojbXwtXv{"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="12Z|(T?UFwzBDC1B?~J)"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="`VO/,9.`cd!viyVkwRsw"><field name="NUM">0</field></shadow><block type="variables_get" id="aqx^e/_vg*MY_KfrHr/!"><field name="VAR" id="LL~YZUMd##]oie-52Af%">targetTime</field></block></value><value name="B"><shadow type="math_number" id="Yv4u%i1?:,sbr#4lzrQE"><field name="NUM">0</field></shadow><block type="variables_get" id="^d5?r2skS/Mu=3?AUzO$"><field name="VAR" id="yAuOHd?ndMeDA/Xw*l3g">currentTime</field></block></value></block></value><value name="B"><shadow type="math_number" id="m(rxL*?=UvzlrgP,ooNV"><field name="NUM">0</field></shadow><block type="variables_get" id="TYS9KDMd%3[_]q@`#$$K"><field name="VAR" id=";Ts_ts8_-hO@opIHr0(y">duration</field></block></value></block></value><next><block type="function_call" id="5R:|}8CXQ]o%2828+K;X"><mutation name="displayProgressBar" functionid="BX:=?EKM6)^7V1l0RuAZ"><arg name="ratio" id="gvucqr1lmq6qwkuqkw8lq" type="number"></arg></mutation><value name="gvucqr1lmq6qwkuqkw8lq"><shadow type="math_number" id="|aTFdF$=N:M)xm^x%foq"><field name="NUM">1</field></shadow><block type="variables_get" id="i+-V*YgwkLpeD~*oWs%%"><field name="VAR" id="pKx2!%lj#9HAL2+C/VJ1">remainingRatio</field></block></value><next><block type="controls_if" id="e:/)6ruYUw$8S}.b6`z,"><value name="IF0"><shadow type="logic_boolean" id="aR1RzrQ)OOn;^`j1JPY3"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="J`LFqP4@*D{@vd9Tnt6^"><field name="OP">GTE</field><value name="A"><shadow type="math_number" id="NBL$uI8x5*pfF5+J1Q%|"><field name="NUM">0</field></shadow><block type="variables_get" id="[QK3L5+2k-`f_3xgr]0N"><field name="VAR" id="yAuOHd?ndMeDA/Xw*l3g">currentTime</field></block></value><value name="B"><shadow type="math_number" id="PMM[rSgfW0k`#}6pN:*b"><field name="NUM">0</field></shadow><block type="variables_get" id="!_gbUkV*cHJ`+hi1|/a*"><field name="VAR" id="LL~YZUMd##]oie-52Af%">targetTime</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="5)7Cq-@H)H=#I]8$qlYL"><field name="VAR" id="c}Ej8]s}@;/B#TJ?)wI2">isTimerStart</field><value name="VALUE"><shadow type="math_number" id="sH+*#eM1*rzX(ne,2KBQ"><field name="NUM">0</field></shadow><block type="logic_boolean" id=",Cz(CVYm4l:bbZ8zT[e!"><field name="BOOL">FALSE</field></block></value><next><block type="controls_if" id="RE|XB_]/3a],mCDvn]5}"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean" id="i54+y(en5/?R8M0T,p/4"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="CQK~b,b`Rv(d*l(GiOFD"><value name="BOOL"><shadow type="logic_boolean" id="iC`7*|]^pZo/Y7!;8,Xy"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="f}:OJuvHC{_a=apN1_t2"><field name="VAR" id="WCCvIv[Xi=?Z[A9^/dV|">isBreakTime</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="F^[iuZd/-N*Y4O59_a7|"><field name="VAR" id="r49^F=bCTLG*?f]D;},6">finishedMode</field><value name="VALUE"><shadow type="math_number" id="k]!lcDZb#A6vrY!P`!e]"><field name="NUM">0</field></shadow><block type="variables_get" id="%6`f5+uPTmmE--[vEn,r"><field name="VAR" id="~5e,#}3;X!v+j0D{EEX%">mode</field></block></value><next><block type="serial_writeline" id="$!/ra:PR[eh6GC9nJx60"><comment pinned="false" h="80" w="160">PCにログを送信 (数字のみ)</comment><value name="text"><block type="variables_get" id="c.rIbj}Fcl6,C37z9SAW"><field name="VAR" id="r49^F=bCTLG*?f]D;},6">finishedMode</field></block></value><next><block type="basic_show_icon" id="nTMTgbBn#vfLC}$0,b,5"><field name="i">IconNames.Target</field></block></next></block></next></block></statement><statement name="ELSE"><block type="variables_set" id="XdPf`b$JgIye1jtzH0c1"><field name="VAR" id="WCCvIv[Xi=?Z[A9^/dV|">isBreakTime</field><value name="VALUE"><shadow type="math_number" id="SMfwc+%0#p.S]lIngA,$"><field name="NUM">0</field></shadow><block type="logic_boolean" id="YBt.9F.j^Rz~F}v.j%,g"><field name="BOOL">FALSE</field></block></value><next><block type="basic_show_icon" id="v1.M!9?j*i]L%kN=-H2E"><field name="i">IconNames.Happy</field></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block></statement></block><block type="typescript_expression" id="ja9`-xMkFLCD?VWv,,Y3" disabled-reasons="pxt_automatic_disabled" x="2291" y="282"><field name="EXPRESSION">elapsedMinutes.toString()</field></block><block type="typescript_expression" id="n#DgY/x]+8oaUwCZv-v:" disabled-reasons="pxt_automatic_disabled" x="3113" y="572"><field name="EXPRESSION">finishedMode.toString()</field></block><block type="device_gesture_event" id="WB8o:9p7jM-;kBTk^6)~" x="0" y="961"><field name="NAME">Gesture.Shake</field><comment pinned="false" h="80" w="160">シェイク: 休憩モードを開始</comment><statement name="HANDLER"><block type="controls_if" id="hTm04I{kNB-#y7m[%BD4"><value name="IF0"><shadow type="logic_boolean" id="KXGL6K@N!t=+(wG@0iBc"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="aKM^BZ0|[[iBD.:xeUhf"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id="IdM)R=9$q1Uhg[:-O~Od"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="+qxi?E+G^}j={Mf8ax1`"><field name="VAR" id="c}Ej8]s}@;/B#TJ?)wI2">isTimerStart</field></block></value><value name="B"><shadow type="logic_boolean" id="y0,!a:/PASc2kfl~|zfx"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="0E-6pDE%|}R3=FG8C]*$"><value name="BOOL"><shadow type="logic_boolean" id="VO;ET:asMlT#C!4rT@C#"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id=";j2VkCZJa7x8m8V67H,Q"><field name="VAR" id="WCCvIv[Xi=?Z[A9^/dV|">isBreakTime</field></block></value></block></value></block></value><statement name="DO0"><block type="variables_set" id=";CSrVYqilcj$T6F9`I|%"><field name="VAR" id="WCCvIv[Xi=?Z[A9^/dV|">isBreakTime</field><value name="VALUE"><shadow type="math_number" id="5Bm,it:g!R_~5!`@lmPp"><field name="NUM">0</field></shadow><block type="logic_boolean" id="ih8GJi~{^aq0rHwv2SYZ"><field name="BOOL">TRUE</field></block></value><next><block type="variables_set" id="bm~i7zUOxkcr^JGaY.*}"><field name="VAR" id="w0-dKlR#w1fVDv~$lCXE">lastmode</field><value name="VALUE"><shadow type="math_number" id="j5K:ID8q07^KWwKZ!F@#"><field name="NUM">0</field></shadow><block type="variables_get" id="I!Ax]o#`=kW`ztL./Eis"><field name="VAR" id="~5e,#}3;X!v+j0D{EEX%">mode</field></block></value><next><block type="variables_set" id="QE*VQh}IPPNb#)%roq7%"><field name="VAR" id="~5e,#}3;X!v+j0D{EEX%">mode</field><value name="VALUE"><shadow type="math_number" id="Q-Drw^v609ruZT7wLgnV"><field name="NUM">5</field></shadow></value><next><block type="variables_set" id="~gTPno)xPE-kl9:GR$*k"><field name="VAR" id="c}Ej8]s}@;/B#TJ?)wI2">isTimerStart</field><value name="VALUE"><shadow type="math_number" id="mR%bJA[v7.T%~F1Mx[bW"><field name="NUM">0</field></shadow><block type="logic_boolean" id="+%vQEP0Fn}vi!z^M;5ka"><field name="BOOL">TRUE</field></block></value><next><block type="variables_set" id="01|K+X#(BvF%{St*([QX"><field name="VAR" id=".N3zx-Ja/x;xftWRf[*R">startTime</field><value name="VALUE"><shadow type="math_number" id="|C{yNWfvTlQRrRG`LCun"><field name="NUM">0</field></shadow><block type="device_get_running_time" id="iGpA$#q(+1t_J;c_N6DG"></block></value><next><block type="variables_set" id="WiY%Uv4vFWCj=K(BH8c!"><field name="VAR" id="LL~YZUMd##]oie-52Af%">targetTime</field><value name="VALUE"><shadow type="math_number" id="S|zk!FxC7[:qFbFw[FV;"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="9:_;JTeJocU|YQQ@4#bh"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="G8XM?uHJVLW!GZ]QKE_)"><field name="NUM">0</field></shadow><block type="variables_get" id="^Ti6BLRUT8CR)i%X2C#h"><field name="VAR" id=".N3zx-Ja/x;xftWRf[*R">startTime</field></block></value><value name="B"><shadow type="math_number" id="QyE0G^`94{%HQl?OW-N*"><field name="NUM">0</field></shadow><block type="math_arithmetic" id=":|bgjpdC7Y9t/HPwE31E"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="(!]wDF)TXRpUnSVw1z#n"><field name="NUM">0</field></shadow><block type="variables_get" id="{}0tm9d1n+eP3Ya+te8r"><field name="VAR" id="~5e,#}3;X!v+j0D{EEX%">mode</field></block></value><value name="B"><shadow type="math_number" id="!{]ZEPPSXD9nVzr;R[oG"><field name="NUM">60000</field></shadow></value></block></value></block></value><next><block type="basic_show_icon" id="^3RxL^x|MZTq8Xv^6eTo"><field name="i">IconNames.Asleep</field></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement></block><block type="function_definition" id=")h+L}6sdz){EG0QxvzUc" x="764" y="961"><mutation name="displayProgressBar" functionid="BX:=?EKM6)^7V1l0RuAZ"><arg name="ratio" id="gvucqr1lmq6qwkuqkw8lq" type="number"></arg></mutation><field name="function_name">displayProgressBar</field><comment pinned="false" h="80" w="160">----------------------------------------
関数定義
----------------------------------------</comment><value name="gvucqr1lmq6qwkuqkw8lq"><block type="argument_reporter_number" id=":q$T]R#WiTDNBMI2jK:," deletable="false"><field name="VALUE">ratio</field></block></value><statement name="STACK"><block type="controls_if" id="J`kcyzy;Q4BYBHyX_MoM"><mutation elseif="4" else="1"></mutation><value name="IF0"><shadow type="logic_boolean" id="JlyhWzdBPsuk]0k#A:jv"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="k)=[g;#,*)4Htrftkj9;"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="t7F(dVY@xnpo*|*.OMu;"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="!+a4`Z7,~K4gN?b-HS{5"><field name="VALUE">ratio</field></block></value><value name="B"><shadow type="math_number" id="93XKdmKuN=rfDH?:.H*O"><field name="NUM">0.8</field></shadow></value></block></value><statement name="DO0"><block type="device_show_leds" id="zF?hBe#%v*_8|Rr7SGlZ"><field name="LEDS">`
        # # # # # 
        # # # # # 
        # # # # # 
        # # # # # 
        # # # # #
        `</field></block></statement><value name="IF1"><shadow type="logic_boolean" id="FcVtz6HGnoQ.mufKfrjJ"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="O$U-@[Fq^;=[V$vr82N6"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="o1-^hV8q*bJUV}%G]owG"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="1{eO}B2iKS_%yVRd+V?B"><field name="VALUE">ratio</field></block></value><value name="B"><shadow type="math_number" id="xZu5?:WIk52__19SKMrF"><field name="NUM">0.6</field></shadow></value></block></value><statement name="DO1"><block type="device_show_leds" id="9Igpze2LWY;,Q6G7Mu-o"><field name="LEDS">`
        . . . . . 
        # # # # # 
        # # # # # 
        # # # # # 
        # # # # #
        `</field></block></statement><value name="IF2"><shadow type="logic_boolean" id="bAvO=4gIG8pgiyQB/ps#"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="n2SYz8hrY6j6g(9+WJT)"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="fvd9j{]BvI}GxDQo|ueU"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="u7@[IKhNr#LnHobbmIH_"><field name="VALUE">ratio</field></block></value><value name="B"><shadow type="math_number" id="-ECPBANmr)l7r3+Nb^4)"><field name="NUM">0.4</field></shadow></value></block></value><statement name="DO2"><block type="device_show_leds" id="1_:Pf_:|(8z.db}Y]3[?"><field name="LEDS">`
        . . . . . 
        . . . . . 
        # # # # # 
        # # # # # 
        # # # # #
        `</field></block></statement><value name="IF3"><shadow type="logic_boolean" id="OBHS[wUA*7?;g7#:O}op"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="%A)r80RknZ8AnLhdj208"><field name="OP">GT</field><value name="A"><shadow type="math_number" id=".MbD}WHx#k?{Onoi4TZ$"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="GIiM-3H,J0iDG#$KbfB;"><field name="VALUE">ratio</field></block></value><value name="B"><shadow type="math_number" id="xf5?{UMf;d;RvdlTEf)u"><field name="NUM">0.2</field></shadow></value></block></value><statement name="DO3"><block type="device_show_leds" id="X(kRoo*jzr1Cw*,q%Q:`"><field name="LEDS">`
        . . . . . 
        . . . . . 
        . . . . . 
        # # # # # 
        # # # # #
        `</field></block></statement><value name="IF4"><shadow type="logic_boolean" id="Z/T^i#O75b5RaFhI$xJ0"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="tpK@%1izL.N0Dwe8E*NN"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="*hrNMTDIK*.d+nf0c*,5"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="I9wG!kcxU;}eVvMBS1jW"><field name="VALUE">ratio</field></block></value><value name="B"><shadow type="math_number" id="/P0TX+m+i3Exmht1*1k4"><field name="NUM">0</field></shadow></value></block></value><statement name="DO4"><block type="device_show_leds" id="M/x^UncJ{OE[3Ai800b["><field name="LEDS">`
        . . . . . 
        . . . . . 
        . . . . . 
        . . . . . 
        # # # # #
        `</field></block></statement><statement name="ELSE"><block type="device_clear_display" id="Hm?=Jd1+Zg-y!afx.[kj"></block></statement></block></statement></block></xml>