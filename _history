{"entries":[{"timestamp":1755230915354,"editorVersion":"8.0.15","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":14027,"diffs":[[1,"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":2416,"diffs":[[1,"\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":228,"length1":35,"diffs":[[1,"    \"additionalFilePaths\": []\n"]]}]}]},{"timestamp":1755230919808,"editorVersion":"8.0.15","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":548,"length1":2,"diffs":[[1,"    acc_x = 43982\n    // writeLineは自動で改行をつけます\n    serial.writeLine(\"\" + (acc_x.toString()))\n"]]}]}]},{"timestamp":1755231605248,"editorVersion":"8.0.15","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":10692,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</variable><variable id=\"O9P/PRPpvcl}s@MNVTCB\">mode</variable><variable id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</variable><variable id=\"doNQ@hoeD7j7x|CLT4Hi\">acc_x</variable><variable id=\"4zT7cX^qa/_c!f)oXBzD\">lastTime</variable><variable id=\"%8-!oNK!%UwyAXpQ|zvb\">currentTime</variable><variable id=\"M!2Kel.(SzwiSQG[c{4/\">remainingRatio</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let acc_x = 0\" numlines=\"1\" declaredvars=\"acc_x\"></mutation><next><block type=\"serial_redirect\"><field name=\"tx\">SerialPin.USB_TX</field><field name=\"rx\">SerialPin.USB_RX</field><field name=\"rate\">BaudRate.BaudRate115200</field><next><block type=\"variables_set\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"338\" y=\"20\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_call\"><mutation name=\"StartTimer\" functionid=\"6SGC09S%C^9YefW)*?C{\"></mutation></block></statement></block></next></block></statement></block><block type=\"device_button_event\" x=\"20\" y=\"449\"><field name=\"NAME\">Button.AB</field><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></statement><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"device_show_number\"><value name=\"number\"><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></statement></block></statement></block><block type=\"device_button_event\" x=\"698\" y=\"449\"><field name=\"NAME\">Button.B</field><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"doNQ@hoeD7j7x|CLT4Hi\">acc_x</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">43982</field></shadow></value><next><block type=\"serial_writeline\"><comment pinned=\"false\" h=\"80\" w=\"160\">writeLineは自動で改行をつけます</comment><value name=\"text\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">acc_x.toString()</field></block></value></block></next></block></statement></block><block type=\"device_forever\" x=\"20\" y=\"1150\"><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"%8-!oNK!%UwyAXpQ|zvb\">currentTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"M!2Kel.(SzwiSQG[c{4/\">remainingRatio</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%8-!oNK!%UwyAXpQ|zvb\">currentTime</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"function_call\"><mutation name=\"displayProgressBar\" functionid=\"TYN0,S1E%)P@-DzWg~cO\"><arg name=\"ratio\" id=\"2f1uh8wgoov55jj7nj4g\" type=\"number\"></arg></mutation><value name=\"2f1uh8wgoov55jj7nj4g\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"M!2Kel.(SzwiSQG[c{4/\">remainingRatio</field></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%8-!oNK!%UwyAXpQ|zvb\">currentTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"device_clear_display\"><next><block type=\"variables_set\"><field name=\"VAR\" id=\"doNQ@hoeD7j7x|CLT4Hi\">acc_x</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><next><block type=\"serial_writeline\"><comment pinned=\"false\" h=\"80\" w=\"160\">writeLineは自動で改行をつけます</comment><value name=\"text\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">acc_x.toString()</field></block></value><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">1秒待つ</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"1843\"><mutation name=\"displayProgressBar\" functionid=\"TYN0,S1E%)P@-DzWg~cO\"><arg name=\"ratio\" id=\"2f1uh8wgoov55jj7nj4g\" type=\"number\"></arg></mutation><field name=\"function_name\">displayProgressBar</field><value name=\"2f1uh8wgoov55jj7nj4g\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">ratio</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"4\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">ratio</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0.8</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n"]]}]}]},{"timestamp":1755231605258,"editorVersion":"8.0.15","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":11503,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</variable><variable id=\"O9P/PRPpvcl}s@MNVTCB\">mode</variable><variable id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</variable><variable id=\"doNQ@hoeD7j7x|CLT4Hi\">acc_x</variable><variable id=\"4zT7cX^qa/_c!f)oXBzD\">lastTime</variable><variable id=\"%8-!oNK!%UwyAXpQ|zvb\">currentTime</variable><variable id=\"M!2Kel.(SzwiSQG[c{4/\">remainingRatio</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let acc_x = 0\" numlines=\"1\" declaredvars=\"acc_x\"></mutation><next><block type=\"serial_redirect\"><field name=\"tx\">SerialPin.USB_TX</field><field name=\"rx\">SerialPin.USB_RX</field><field name=\"rate\">BaudRate.BaudRate115200</field><next><block type=\"variables_set\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"338\" y=\"20\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_call\"><mutation name=\"StartTimer\" functionid=\"6SGC09S%C^9YefW)*?C{\"></mutation></block></statement></block></next></block></statement></block><block type=\"device_button_event\" x=\"20\" y=\"449\"><field name=\"NAME\">Button.AB</field><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></statement><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"device_show_number\"><value name=\"number\"><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></statement></block></statement></block><block type=\"device_button_event\" x=\"698\" y=\"449\"><field name=\"NAME\">Button.B</field></block><block type=\"variables_set\" disabled-reasons=\"pxt_automatic_disabled\" x=\"657\" y=\"626\"><field name=\"VAR\" id=\"doNQ@hoeD7j7x|CLT4Hi\">acc_x</field><value name=\"VALUE\"><shadow type=\"math_number\" disabled-reasons=\"pxt_automatic_disabled\"><field name=\"NUM\">43982</field></shadow></value><next><block type=\"serial_writeline\" disabled-reasons=\"pxt_automatic_disabled\"><comment pinned=\"false\" h=\"80\" w=\"160\">writeLineは自動で改行をつけます</comment><value name=\"text\"><block type=\"typescript_expression\" disabled-reasons=\"pxt_automatic_disabled\"><field name=\"EXPRESSION\">acc_x.toString()</field></block></value></block></next></block><block type=\"device_forever\" x=\"20\" y=\"1150\"><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"%8-!oNK!%UwyAXpQ|zvb\">currentTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"M!2Kel.(SzwiSQG[c{4/\">remainingRatio</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%8-!oNK!%UwyAXpQ|zvb\">currentTime</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"function_call\"><mutation name=\"displayProgressBar\" functionid=\"TYN0,S1E%)P@-DzWg~cO\"><arg name=\"ratio\" id=\"2f1uh8wgoov55jj7nj4g\" type=\"number\"></arg></mutation><value name=\"2f1uh8wgoov55jj7nj4g\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"M!2Kel.(SzwiSQG[c{4/\">remainingRatio</field></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%8-!oNK!%UwyAXpQ|zvb\">currentTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"device_clear_display\"><next><block type=\"variables_set\"><field name=\"VAR\" id=\"doNQ@hoeD7j7x|CLT4Hi\">acc_x</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><next><block type=\"serial_writeline\"><comment pinned=\"false\" h=\"80\" w=\"160\">writeLineは自動で改行をつけます</comment><value name=\"text\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">acc_x.toString()</field></block></value><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">1秒待つ</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"1843\"><mutation name=\"displayProgressBar\" functionid=\"TYN0,S1E%)P@-DzWg~cO\"><arg name=\"ratio\" id=\"2f1uh8wgoov55jj7nj4g\" type=\"number\"></arg></mutation><field name=\"function_name\">displayProgressBar</field><value name=\"2f1uh8wgoov55jj7nj4g\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">ratio</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"4\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">ratio</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0.8</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n"]]},{"start1":13260,"length1":913,"diffs":[[1,"        `</field></block></statement><statement name=\"ELSE\"><block type=\"device_clear_display\"></block></statement></block></statement></block><block type=\"function_definition\" x=\"516\" y=\"1843\"><mutation name=\"StartTimer\" functionid=\"6SGC09S%C^9YefW)*?C{\"></mutation><field name=\"function_name\">StartTimer</field><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"4zT7cX^qa/_c!f)oXBzD\">lastTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value></block></next></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":125,"length1":68,"diffs":[[1,"        StartTimer()\n"]]},{"start1":548,"length1":449,"diffs":[[1,"\t\n"]]},{"start1":1539,"length1":0,"diffs":[[1,"function StartTimer () {\n    isTimerStart = true\n    lastTime = mode\n}\n"]]},{"start1":1653,"length1":0,"diffs":[[1,"let lastTime = 0\n"]]},{"start1":1741,"length1":18,"diffs":[[1,""]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":228,"length1":31,"diffs":[[1,"    \"preferredEditor\": \"blocksprj\"\n"]]}]}]},{"timestamp":1755232315233,"editorVersion":"8.0.15","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":875,"length1":41,"diffs":[[1,"        serial.writeLine(\"経過時間:\" + elapsedMinutes)\n"]]}]}]},{"timestamp":1755232317045,"editorVersion":"8.0.15","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":11609,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</variable><variable id=\"O9P/PRPpvcl}s@MNVTCB\">mode</variable><variable id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</variable><variable id=\"doNQ@hoeD7j7x|CLT4Hi\">acc_x</variable><variable id=\"4zT7cX^qa/_c!f)oXBzD\">lastTime</variable><variable id=\"%8-!oNK!%UwyAXpQ|zvb\">currentTime</variable><variable id=\"M!2Kel.(SzwiSQG[c{4/\">remainingRatio</variable></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let acc_x = 0\" numlines=\"1\" declaredvars=\"acc_x\"></mutation><next><block type=\"serial_redirect\"><field name=\"tx\">SerialPin.USB_TX</field><field name=\"rx\">SerialPin.USB_RX</field><field name=\"rate\">BaudRate.BaudRate115200</field><next><block type=\"variables_set\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"318\" y=\"0\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_call\"><mutation name=\"StartTimer\" functionid=\"6SGC09S%C^9YefW)*?C{\"></mutation></block></statement></block></next></block></statement></block><block type=\"device_button_event\" x=\"0\" y=\"429\"><field name=\"NAME\">Button.AB</field><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></statement><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"device_show_number\"><value name=\"number\"><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></statement></block></statement></block><block type=\"device_button_event\" x=\"678\" y=\"429\"><field name=\"NAME\">Button.B</field><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"doNQ@hoeD7j7x|CLT4Hi\">acc_x</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"serial_writeline\"><comment pinned=\"false\" h=\"80\" w=\"160\">writeLineは自動で改行をつけます</comment><value name=\"text\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">acc_x.toString()</field></block></value></block></next></block></statement></block><block type=\"device_forever\" x=\"0\" y=\"1130\"><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"%8-!oNK!%UwyAXpQ|zvb\">currentTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"M!2Kel.(SzwiSQG[c{4/\">remainingRatio</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%8-!oNK!%UwyAXpQ|zvb\">currentTime</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"function_call\"><mutation name=\"displayProgressBar\" functionid=\"TYN0,S1E%)P@-DzWg~cO\"><arg name=\"ratio\" id=\"2f1uh8wgoov55jj7nj4g\" type=\"number\"></arg></mutation><value name=\"2f1uh8wgoov55jj7nj4g\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"M!2Kel.(SzwiSQG[c{4/\">remainingRatio</field></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%8-!oNK!%UwyAXpQ|zvb\">currentTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"device_clear_display\"><next><block type=\"variables_set\"><field name=\"VAR\" id=\"doNQ@hoeD7j7x|CLT4Hi\">acc_x</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><next><block type=\"serial_writeline\"><comment pinned=\"false\" h=\"80\" w=\"160\">writeLineは自動で改行をつけます</comment><value name=\"text\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">acc_x.toString()</field></block></value><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">1秒待つ</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></statement></block><block type=\"function_definition\" x=\"0\" y=\"1823\"><mutation name=\"displayProgressBar\" functionid=\"TYN0,S1E%)P@-DzWg~cO\"><arg name=\"ratio\" id=\"2f1uh8wgoov55jj7nj4g\" type=\"number\"></arg></mutation><field name=\"function_name\">displayProgressBar</field><value name=\"2f1uh8wgoov55jj7nj4g\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">ratio</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"4\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">ratio</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0.8</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n"]]},{"start1":14071,"length1":913,"diffs":[[1,"        `</field></block></statement><statement name=\"ELSE\"><block type=\"device_clear_display\"></block></statement></block></statement></block><block type=\"function_definition\" x=\"496\" y=\"1823\"><mutation name=\"StartTimer\" functionid=\"6SGC09S%C^9YefW)*?C{\"></mutation><field name=\"function_name\">StartTimer</field><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"4zT7cX^qa/_c!f)oXBzD\">lastTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value></block></next></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":46,"length1":27,"diffs":[[1,""]]},{"start1":98,"length1":21,"diffs":[[1,"    if (!(isTimerStart)) {\n        isTimerStart = true\n        startTime = input.runningTime()\n"]]},{"start1":202,"length1":122,"diffs":[[1,""]]},{"start1":249,"length1":185,"diffs":[[1,""]]},{"start1":549,"length1":0,"diffs":[[1,"input.onButtonPressed(Button.B, function () {\n    // もしタイマーが作動中なら\n    if (isTimerStart) {\n        // 現在時刻 - 開始時刻 で経過ミリ秒を計算\n        let elapsedTimeMillis = input.runningTime() - startTime\n\n        // ミリ秒を「分」に変換 (小数点以下は切り捨て)\n        let elapsedMinutes = Math.floor(elapsedTimeMillis / 60000)\n\n        // PCに「経過時間: (分数)」という形式で送信\n        serial.writeLine(elapsedMinutes)\n\n        // 送信した合図\n        basic.showIcon(IconNames.Happy)\n        basic.pause(500)\n        basic.clearScreen()\n    }\n})\n"]]},{"start1":2023,"length1":71,"diffs":[[1,""]]},{"start1":2066,"length1":17,"diffs":[[1,""]]},{"start1":2137,"length1":24,"diffs":[[1,"let startTime = 0\n"]]},{"start1":2556,"length1":34,"diffs":[[1,""]]},{"start1":2721,"length1":14,"diffs":[[1,""]]}]}]},{"timestamp":1755232825625,"editorVersion":"8.0.15","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":46,"length1":180,"diffs":[[1,"    if (!(isTimerStart)) {\n    targetTime = input.runningTime() + mode * 60000\n"]]},{"start1":200,"length1":68,"diffs":[[1,""]]},{"start1":1983,"length1":17,"diffs":[[1,""]]},{"start1":2645,"length1":46,"diffs":[[1,""]]}]}]},{"timestamp":1755233281911,"editorVersion":"8.0.15","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":46,"length1":25,"diffs":[[1,"    if (isTimerStart && isBreakTime || !isTimerStart && !isBreakTime) {\n"]]},{"start1":2831,"length1":47,"diffs":[[1,"        if (mode = 5) { isBreakTime = false }\n"]]}]}]},{"timestamp":1755233574034,"editorVersion":"8.0.15","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":396,"length1":156,"diffs":[[1,""]]}]}]},{"timestamp":1755234403058,"editorVersion":"8.0.15","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":2316,"length1":1,"diffs":[[1,""]]}]}]},{"timestamp":1755234414334,"editorVersion":"8.0.15","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":26669,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</variable><variable id=\"O9P/PRPpvcl}s@MNVTCB\">mode</variable><variable id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</variable><variable id=\"doNQ@hoeD7j7x|CLT4Hi\">acc_x</variable><variable id=\"4zT7cX^qa/_c!f)oXBzD\">lastTime</variable><variable id=\"%8-!oNK!%UwyAXpQ|zvb\">currentTime</variable><variable id=\"M!2Kel.(SzwiSQG[c{4/\">remainingRatio</variable></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let acc_x = 0\" numlines=\"1\" declaredvars=\"acc_x\"></mutation><next><block type=\"serial_redirect\"><field name=\"tx\">SerialPin.USB_TX</field><field name=\"rx\">SerialPin.USB_RX</field><field name=\"rate\">BaudRate.BaudRate115200</field><next><block type=\"variables_set\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"264\" y=\"0\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_call\"><mutation name=\"StartTimer\" functionid=\"6SGC09S%C^9YefW)*?C{\"></mutation></block></statement></block></next></block></statement></block><block type=\"device_button_event\" x=\"-54\" y=\"429\"><field name=\"NAME\">Button.AB</field><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"doNQ@hoeD7j7x|CLT4Hi\">acc_x</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"serial_writeline\"><comment pinned=\"false\" h=\"80\" w=\"160\">writeLineは自動で改行をつけます</comment><value name=\"text\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">acc_x.toString()</field></block></value></block></next></block></statement></block><block type=\"device_button_event\" x=\"969\" y=\"508\"><field name=\"NAME\">Button.B</field><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></statement><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"device_show_number\"><value name=\"number\"><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></statement></block></statement></block><block type=\"device_gesture_event\" x=\"-271\" y=\"666\"><field name=\"NAME\">Gesture.Shake</field></block><block type=\"device_forever\" x=\"-54\" y=\"1130\"><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"%8-!oNK!%UwyAXpQ|zvb\">currentTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"M!2Kel.(SzwiSQG[c{4/\">remainingRatio</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%8-!oNK!%UwyAXpQ|zvb\">currentTime</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"function_call\"><mutation name=\"displayProgressBar\" functionid=\"TYN0,S1E%)P@-DzWg~cO\"><arg name=\"ratio\" id=\"2f1uh8wgoov55jj7nj4g\" type=\"number\"></arg></mutation><value name=\"2f1uh8wgoov55jj7nj4g\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"M!2Kel.(SzwiSQG[c{4/\">remainingRatio</field></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%8-!oNK!%UwyAXpQ|zvb\">currentTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"device_clear_display\"><next><block type=\"variables_set\"><field name=\"VAR\" id=\"doNQ@hoeD7j7x|CLT4Hi\">acc_x</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><next><block type=\"serial_writeline\"><comment pinned=\"false\" h=\"80\" w=\"160\">writeLineは自動で改行をつけます</comment><value name=\"text\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">acc_x.toString()</field></block></value><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">1秒待つ</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></statement></block><block type=\"function_definition\" x=\"-54\" y=\"1823\"><mutation name=\"displayProgressBar\" functionid=\"TYN0,S1E%)P@-DzWg~cO\"><arg name=\"ratio\" id=\"2f1uh8wgoov55jj7nj4g\" type=\"number\"></arg></mutation><field name=\"function_name\">displayProgressBar</field><value name=\"2f1uh8wgoov55jj7nj4g\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">ratio</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"4\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">ratio</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0.8</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n"]]},{"start1":14177,"length1":149,"diffs":[[1,"        `</field></block></statement><statement name=\"ELSE\"><block type=\"device_clear_display\"></block></statement></block></statement></block><block type=\"function_definition\" x=\"442\" y=\"1823\"><mutation name=\"StartTimer\" functionid=\"6SGC09S%C^9YefW)*?C{\"></mutation><field name=\"function_name\">StartTimer</field><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"4zT7cX^qa/_c!f)oXBzD\">lastTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value></block></next></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":46,"length1":91,"diffs":[[1,"    if (!isTimerStart) {\n"]]},{"start1":99,"length1":32,"diffs":[[1,""]]},{"start1":123,"length1":434,"diffs":[[1,"        targetTime = input.runningTime() + mode * 60000\n        StartTimer()\n"]]},{"start1":209,"length1":18,"diffs":[[1,""]]},{"start1":254,"length1":76,"diffs":[[1,""]]},{"start1":281,"length1":21,"diffs":[[1,""]]},{"start1":305,"length1":24,"diffs":[[1,""]]},{"start1":322,"length1":202,"diffs":[[1,"        targetTime = input.runningTime() + 5 * 60000\n        StartTimer()\n\n    let elapsedTimeMillis = input.runningTime() - startTime\n\n    // ミリ秒を「分」に変換 (小数点以下は切り捨て)\n    let elapsedMinutes = Math.floor(elapsedTimeMillis / 60000)\n"]]},{"start1":555,"length1":18,"diffs":[[1,""]]},{"start1":602,"length1":341,"diffs":[[1,"    acc_x = mode - (targetTime - input.runningTime()) / 60000\n    // writeLineは自動で改行をつけます\n    serial.writeLine(\"\" + (acc_x.toString()))\n"]]},{"start1":741,"length1":34,"diffs":[[1,""]]},{"start1":787,"length1":292,"diffs":[[1,"    if (!(isTimerStart)) {\n"]]},{"start1":911,"length1":46,"diffs":[[1,""]]},{"start1":996,"length1":0,"diffs":[[1,"    } else {\n        basic.showNumber((targetTime - input.runningTime()) / 60000)\n"]]},{"start1":1087,"length1":124,"diffs":[[1,""]]},{"start1":2073,"length1":21,"diffs":[[1,"function StartTimer () {\n    isTimerStart = true\n    lastTime = mode\n}\n"]]},{"start1":2167,"length1":17,"diffs":[[1,""]]},{"start1":2187,"length1":159,"diffs":[[1,"let lastTime = 0\n"]]},{"start1":2229,"length1":17,"diffs":[[1,"let targetTime = 0\n"]]},{"start1":2261,"length1":268,"diffs":[[1,"let lastmode = 0\nlet acc_x = 0\nlet isBreakTime = false\n\n"]]},{"start1":2396,"length1":100,"diffs":[[1,""]]},{"start1":2406,"length1":213,"diffs":[[1,""]]},{"start1":2500,"length1":95,"diffs":[[1,"        remainingRatio = (targetTime - currentTime) / (mode * 60000)\n"]]},{"start1":2612,"length1":23,"diffs":[[1,""]]},{"start1":2653,"length1":30,"diffs":[[1,""]]},{"start1":2686,"length1":462,"diffs":[[1,"            basic.clearScreen()\n            if (!isBreakTime)  {\n\n            acc_x = mode\n            // writeLineは自動で改行をつけます\n            serial.writeLine(\"\" + (acc_x.toString()))\n            // 1秒待つ\n            basic.pause(1000)\n"]]},{"start1":2941,"length1":0,"diffs":[[1,"        if (mode == 5) { isBreakTime = false }\n"]]}]}]},{"timestamp":1755235011181,"editorVersion":"8.0.15","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":1463,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"ujr:(A3-w9%6M:%s{5l7\">isTimerStart</variable><variable id=\"Hpj5ERpDqR,)f0vIMG%.\">isBreakTime</variable><variable id=\"N5~4I[kSWR;CazFhCQ^Z\">mode</variable><variable id=\"_A379=v_jw[[1VptUQ*^\">lastmode</variable><variable id=\"(|6PUe(tOBEz(Mbtd{|f\">startTime</variable><variable id=\":s/i0MXmAtwIoN%r{C0-\">targetTime</variable><variable id=\"%P~lS+$R.9.A{fL$!D_%\">remainingMillis</variable><variable id=\"*{epzT^W?pTgN.g]L(KU\">remainingMinutes</variable><variable id=\"qpy)MKjpsTxn`|uN+m/+\">elapsedTimeMillis</variable><variable id=\"tg2]SUY[{l_!nkNKFE2l\">elapsedMinutes</variable><variable id=\"MR6:/PhHInKM,$:M~NO8\">currentTime</variable><variable id=\"h6f)6]_Z;gSmHjSOB|9X\">duration</variable><variable id=\"%iQI)Mb85_|lA4.AYl89\">remainingRatio</variable><variable id=\"P#|/kqy`3hariQzY?9MC\">finishedMode</variable></variables><comment x=\"1280.5546875\" y=\"989\" w=\"211.1875\" h=\"120\">\nタイマーが作動中かどうかのフラグ\n</comment><comment x=\"1536.7421875\" y=\"989\" w=\"211.1875\" h=\"120\">\n現在が休憩時間かどうかのフラグ\n</comment><comment x=\"1792.9296875\" y=\"989\" w=\"211.1875\" h=\"120\">\nタイマーの目標終了時刻 (ミリ秒)\n</comment><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"N5~4I[kSWR;CazFhCQ^Z\">mode</field><comment pinned=\"false\" h=\"80\" w=\"160\">----------------------------------------\n"]]},{"start1":1382,"length1":608,"diffs":[[1,"----------------------------------------</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"_A379=v_jw[[1VptUQ*^\">lastmode</field><comment pinned=\"false\" h=\"80\" w=\"160\">休憩に入る前のモードを保存する変数</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value><next><block type=\"serial_redirect\"><field name=\"tx\">SerialPin.USB_TX</field><field name=\"rx\">SerialPin.USB_RX</field><field name=\"rate\">BaudRate.BaudRate115200</field><comment pinned=\"false\" h=\"80\" w=\"160\">タイマーの開始時刻 (ミリ秒)\n"]]},{"start1":2057,"length1":220,"diffs":[[1,"----------------------------------------</comment><next><block type=\"variables_set\"><field name=\"VAR\" id=\"N5~4I[kSWR;CazFhCQ^Z\">mode</field><comment pinned=\"false\" h=\"80\" w=\"160\">----------------------------------------\n"]]},{"start1":2286,"length1":15588,"diffs":[[1,"----------------------------------------</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"_A379=v_jw[[1VptUQ*^\">lastmode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ujr:(A3-w9%6M:%s{5l7\">isTimerStart</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Hpj5ERpDqR,)f0vIMG%.\">isBreakTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"N5~4I[kSWR;CazFhCQ^Z\">mode</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"459\" y=\"20\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Aボタン: 新規タイマー開始 or 休憩から復帰\n【状況B】勉強タイマー作動中は、どちらの条件にも当てはまらないので何もしない</comment><data>0</data><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">【状況A】タイマーが完全に止まっている場合</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ujr:(A3-w9%6M:%s{5l7\">isTimerStart</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Hpj5ERpDqR,)f0vIMG%.\">isBreakTime</field><comment pinned=\"false\" h=\"80\" w=\"160\">休憩フラグが残っている可能性があるのでリセット</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"N5~4I[kSWR;CazFhCQ^Z\">mode</field><comment pinned=\"false\" h=\"80\" w=\"160\">保存しておいたモードに戻す（初回は25）</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"_A379=v_jw[[1VptUQ*^\">lastmode</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ujr:(A3-w9%6M:%s{5l7\">isTimerStart</field><comment pinned=\"false\" h=\"80\" w=\"160\">新しいタイマーを開始</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"(|6PUe(tOBEz(Mbtd{|f\">startTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\":s/i0MXmAtwIoN%r{C0-\">targetTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(|6PUe(tOBEz(Mbtd{|f\">startTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"N5~4I[kSWR;CazFhCQ^Z\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">S</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ujr:(A3-w9%6M:%s{5l7\">isTimerStart</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Hpj5ERpDqR,)f0vIMG%.\">isBreakTime</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Hpj5ERpDqR,)f0vIMG%.\">isBreakTime</field><comment pinned=\"false\" h=\"80\" w=\"160\">【状況C】休憩タイマーが作動中の場合（休憩を中断）</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"N5~4I[kSWR;CazFhCQ^Z\">mode</field><comment pinned=\"false\" h=\"80\" w=\"160\">保存しておいたモードに戻す</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"_A379=v_jw[[1VptUQ*^\">lastmode</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ujr:(A3-w9%6M:%s{5l7\">isTimerStart</field><comment pinned=\"false\" h=\"80\" w=\"160\">勉強タイマーを再スタート</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"(|6PUe(tOBEz(Mbtd{|f\">startTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\":s/i0MXmAtwIoN%r{C0-\">targetTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(|6PUe(tOBEz(Mbtd{|f\">startTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"N5~4I[kSWR;CazFhCQ^Z\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">S</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement></block><block type=\"device_button_event\" x=\"1223\" y=\"20\"><field name=\"NAME\">Button.AB</field><comment pinned=\"false\" h=\"80\" w=\"160\">ABボタン: 経過時間を表示</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">タイマーが作動中の場合のみ実行</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ujr:(A3-w9%6M:%s{5l7\">isTimerStart</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"qpy)MKjpsTxn`|uN+m/+\">elapsedTimeMillis</field><comment pinned=\"false\" h=\"80\" w=\"160\">現在時刻 - 開始時刻 で経過ミリ秒を計算</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(|6PUe(tOBEz(Mbtd{|f\">startTime</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"tg2]SUY[{l_!nkNKFE2l\">elapsedMinutes</field><comment pinned=\"false\" h=\"80\" w=\"160\">ミリ秒を「分」に変換 (小数点以下は切り捨て)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"qpy)MKjpsTxn`|uN+m/+\">elapsedTimeMillis</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">経過時間を表示\n\"Elapsed\"のE</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">E</field></shadow></value><next><block type=\"device_show_number\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"tg2]SUY[{l_!nkNKFE2l\">elapsedMinutes</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block></statement></block><block type=\"device_button_event\" x=\"2162\" y=\"20\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">Bボタン: （停止中）モード切替 / （作動中）残り時間表示</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ujr:(A3-w9%6M:%s{5l7\">isTimerStart</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"%P~lS+$R.9.A{fL$!D_%\">remainingMillis</field><comment pinned=\"false\" h=\"80\" w=\"160\">タイマー作動中なら残り時間を表示</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\":s/i0MXmAtwIoN%r{C0-\">targetTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"*{epzT^W?pTgN.g]L(KU\">remainingMinutes</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%P~lS+$R.9.A{fL$!D_%\">remainingMillis</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">\"Remaining\"のR</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">R</field></shadow></value><next><block type=\"device_show_number\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"*{epzT^W?pTgN.g]L(KU\">remainingMinutes</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">待機中ならモードを切替</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"N5~4I[kSWR;CazFhCQ^Z\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"N5~4I[kSWR;CazFhCQ^Z\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"N5~4I[kSWR;CazFhCQ^Z\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"_A379=v_jw[[1VptUQ*^\">lastmode</field><comment pinned=\"false\" h=\"80\" w=\"160\">切替後のモードを保存</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"N5~4I[kSWR;CazFhCQ^Z\">mode</field></block></value><next><block type=\"device_show_number\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"N5~4I[kSWR;CazFhCQ^Z\">mode</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></next></block></next></block></statement></block></statement></block><block type=\"device_forever\" x=\"3077\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">----------------------------------------\n"]]},{"start1":16104,"length1":8338,"diffs":[[1,"----------------------------------------</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ujr:(A3-w9%6M:%s{5l7\">isTimerStart</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"MR6:/PhHInKM,$:M~NO8\">currentTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"h6f)6]_Z;gSmHjSOB|9X\">duration</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"N5~4I[kSWR;CazFhCQ^Z\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"%iQI)Mb85_|lA4.AYl89\">remainingRatio</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\":s/i0MXmAtwIoN%r{C0-\">targetTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MR6:/PhHInKM,$:M~NO8\">currentTime</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"h6f)6]_Z;gSmHjSOB|9X\">duration</field></block></value></block></value><next><block type=\"function_call\"><mutation name=\"displayProgressBar\" functionid=\"]eFL/h@@jBj*s8r0(7Ar\"><arg name=\"ratio\" id=\"3bxw64iom1lbl6we6t88i\" type=\"number\"></arg></mutation><value name=\"3bxw64iom1lbl6we6t88i\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%iQI)Mb85_|lA4.AYl89\">remainingRatio</field></block></value><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">もし目標時刻を過ぎたら</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MR6:/PhHInKM,$:M~NO8\">currentTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\":s/i0MXmAtwIoN%r{C0-\">targetTime</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"ujr:(A3-w9%6M:%s{5l7\">isTimerStart</field><comment pinned=\"false\" h=\"80\" w=\"160\">まずタイマーを停止状態にする</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">終了したのが勉強タイマーの場合</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Hpj5ERpDqR,)f0vIMG%.\">isBreakTime</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"P#|/kqy`3hariQzY?9MC\">finishedMode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"N5~4I[kSWR;CazFhCQ^Z\">mode</field></block></value><next><block type=\"serial_writeline\"><comment pinned=\"false\" h=\"80\" w=\"160\">PCにログを送信</comment><value name=\"text\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">timer_end,</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"P#|/kqy`3hariQzY?9MC\">finishedMode</field></block></value></block></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Target</field><comment pinned=\"false\" h=\"80\" w=\"160\">勉強終了の合図</comment></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Hpj5ERpDqR,)f0vIMG%.\">isBreakTime</field><comment pinned=\"false\" h=\"80\" w=\"160\">休憩タイマーが終了した場合\n休憩フラグをリセット</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Happy</field><comment pinned=\"false\" h=\"80\" w=\"160\">休憩終了の合図</comment></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block></statement></block><block type=\"math_js_round\" disabled-reasons=\"pxt_automatic_disabled\" x=\"2499\" y=\"229\"><field name=\"OP\">ceil</field><value name=\"ARG0\"><shadow type=\"math_number\" disabled-reasons=\"pxt_automatic_disabled\"><field name=\"NUM\">0</field></shadow></value></block><block type=\"math_js_round\" disabled-reasons=\"pxt_automatic_disabled\" x=\"1459\" y=\"503\"><field name=\"OP\">floor</field><value name=\"ARG0\"><shadow type=\"math_number\" disabled-reasons=\"pxt_automatic_disabled\"><field name=\"NUM\">0</field></shadow></value></block><block type=\"device_gesture_event\" x=\"20\" y=\"989\"><field name=\"NAME\">Gesture.Shake</field><comment pinned=\"false\" h=\"80\" w=\"160\">シェイク: 休憩モードを開始</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">勉強タイマーが動いている時（休憩中でない時）のみ反応</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ujr:(A3-w9%6M:%s{5l7\">isTimerStart</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Hpj5ERpDqR,)f0vIMG%.\">isBreakTime</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Hpj5ERpDqR,)f0vIMG%.\">isBreakTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"_A379=v_jw[[1VptUQ*^\">lastmode</field><comment pinned=\"false\" h=\"80\" w=\"160\">現在のモードを保存</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"N5~4I[kSWR;CazFhCQ^Z\">mode</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"N5~4I[kSWR;CazFhCQ^Z\">mode</field><comment pinned=\"false\" h=\"80\" w=\"160\">休憩モード(5分)に設定</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ujr:(A3-w9%6M:%s{5l7\">isTimerStart</field><comment pinned=\"false\" h=\"80\" w=\"160\">休憩タイマーを開始</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"(|6PUe(tOBEz(Mbtd{|f\">startTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\":s/i0MXmAtwIoN%r{C0-\">targetTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(|6PUe(tOBEz(Mbtd{|f\">startTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"N5~4I[kSWR;CazFhCQ^Z\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Asleep</field><comment pinned=\"false\" h=\"80\" w=\"160\">休憩モードの合図</comment></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement></block><block type=\"function_definition\" x=\"784\" y=\"989\"><mutation name=\"displayProgressBar\" functionid=\"]eFL/h@@jBj*s8r0(7Ar\"><arg name=\"ratio\" id=\"3bxw64iom1lbl6we6t88i\" type=\"number\"></arg></mutation><field name=\"function_name\">displayProgressBar</field><comment pinned=\"false\" h=\"80\" w=\"160\">----------------------------------------\n"]]},{"start1":25873,"length1":771,"diffs":[[1,"----------------------------------------\n残り時間の割合に応じてLEDのバーを表示する関数</comment><value name=\"3bxw64iom1lbl6we6t88i\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">ratio</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"4\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">ratio</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0.8</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":145,"diffs":[[1,""]]},{"start1":46,"length1":0,"diffs":[[1,"    // 【状況A】タイマーが完全に止まっている場合\n"]]},{"start1":102,"length1":0,"diffs":[[1,"        // 休憩フラグが残っている可能性があるのでリセット\n"]]},{"start1":165,"length1":0,"diffs":[[1,"        // 保存しておいたモードに戻す（初回は25）\n"]]},{"start1":221,"length1":0,"diffs":[[1,"        // 新しいタイマーを開始\n"]]},{"start1":357,"length1":30,"diffs":[[1,""]]},{"start1":403,"length1":0,"diffs":[[1,"        // 【状況C】休憩タイマーが作動中の場合（休憩を中断）\n"]]},{"start1":468,"length1":0,"diffs":[[1,"        // 保存しておいたモードに戻す\n"]]},{"start1":517,"length1":0,"diffs":[[1,"        // 勉強タイマーを再スタート\n"]]},{"start1":655,"length1":30,"diffs":[[1,""]]},{"start1":727,"length1":0,"diffs":[[1,"    // 勉強タイマーが動いている時（休憩中でない時）のみ反応\n"]]},{"start1":830,"length1":0,"diffs":[[1,"        // 現在のモードを保存\n"]]},{"start1":875,"length1":0,"diffs":[[1,"        // 休憩モード(5分)に設定\n"]]},{"start1":916,"length1":0,"diffs":[[1,"        // 休憩タイマーを開始\n"]]},{"start1":1051,"length1":0,"diffs":[[1,"        // 休憩モードの合図\n"]]},{"start1":1121,"length1":64,"diffs":[[1,"// ABボタン: 経過時間を表示\n"]]},{"start1":1186,"length1":106,"diffs":[[1,"    // タイマーが作動中の場合のみ実行\n    if (isTimerStart) {\n        // 現在時刻 - 開始時刻 で経過ミリ秒を計算\n"]]},{"start1":1326,"length1":0,"diffs":[[1,"        // ミリ秒を「分」に変換 (小数点以下は切り捨て)\n"]]},{"start1":1412,"length1":418,"diffs":[[1,"        // 経過時間を表示\n        // \"Elapsed\"のE\n        basic.showNumber(elapsedMinutes)\n        basic.pause(1500)\n"]]},{"start1":1634,"length1":0,"diffs":[[1,"        // タイマー作動中なら残り時間を表示\n"]]},{"start1":1721,"length1":47,"diffs":[[1,""]]},{"start1":1772,"length1":0,"diffs":[[1,"        // \"Remaining\"のR\n"]]},{"start1":1879,"length1":0,"diffs":[[1,"        // 待機中ならモードを切替\n"]]},{"start1":1999,"length1":0,"diffs":[[1,"        // 切替後のモードを保存\n"]]},{"start1":2235,"length1":0,"diffs":[[1,"// 残り時間の割合に応じてLEDのバーを表示する関数\n"]]},{"start1":3650,"length1":17,"diffs":[[1,"// 休憩に入る前のモードを保存する変数\n"]]},{"start1":3685,"length1":14,"diffs":[[1,"// タイマーの開始時刻 (ミリ秒)\n"]]},{"start1":4446,"length1":0,"diffs":[[1,"        // もし目標時刻を過ぎたら\n"]]},{"start1":4510,"length1":0,"diffs":[[1,"            // まずタイマーを停止状態にする\n"]]},{"start1":4573,"length1":0,"diffs":[[1,"            // 終了したのが勉強タイマーの場合\n"]]},{"start1":4674,"length1":100,"diffs":[[1,"                // PCにログを送信\n                serial.writeLine(\"timer_end,\" + finishedMode)\n                // 勉強終了の合図\n"]]},{"start1":4861,"length1":0,"diffs":[[1,"                // 休憩タイマーが終了した場合\n                // 休憩フラグをリセット\n"]]},{"start1":4960,"length1":0,"diffs":[[1,"                // 休憩終了の合図\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":228,"length1":35,"diffs":[[1,"    \"preferredEditor\": \"tsprj\"\n"]]}]}]},{"timestamp":1755235388448,"editorVersion":"8.0.15","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":1003,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</variable><variable id=\"WCCvIv[Xi=?Z[A9^/dV|\">isBreakTime</variable><variable id=\"~5e,#}3;X!v+j0D{EEX%\">mode</variable><variable id=\"w0-dKlR#w1fVDv~$lCXE\">lastmode</variable><variable id=\".N3zx-Ja/x;xftWRf[*R\">startTime</variable><variable id=\"LL~YZUMd##]oie-52Af%\">targetTime</variable><variable id=\"G*pTt.oc9p%U)7RqO9JL\">remainingMillis</variable><variable id=\",2:hWe$]o5Q|-HA7~VA]\">remainingMinutes</variable><variable id=\"9KGL$3g:cSYdYd$sA$eE\">elapsedTimeMillis</variable><variable id=\"z3-XD40T7~9W*Yr33?nB\">elapsedMinutes</variable><variable id=\"yAuOHd?ndMeDA/Xw*l3g\">currentTime</variable><variable id=\";Ts_ts8_-hO@opIHr0(y\">duration</variable><variable id=\"pKx2!%lj#9HAL2+C/VJ1\">remainingRatio</variable><variable id=\"r49^F=bCTLG*?f]D;},6\">finishedMode</variable></variables><comment x=\"1280.5546875\" y=\"981\" w=\"400\" h=\"120\">\n"]]},{"start1":1222,"length1":5540,"diffs":[[1,"</comment><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field><comment pinned=\"false\" h=\"80\" w=\"160\">----------------------------------------\n"]]},{"start1":2363,"length1":10189,"diffs":[[1,"----------------------------------------</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"w0-dKlR#w1fVDv~$lCXE\">lastmode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"WCCvIv[Xi=?Z[A9^/dV|\">isBreakTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"459\" y=\"20\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Aボタン: 新規タイマー開始 or 休憩から復帰</comment><data>0</data><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"WCCvIv[Xi=?Z[A9^/dV|\">isBreakTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"w0-dKlR#w1fVDv~$lCXE\">lastmode</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\".N3zx-Ja/x;xftWRf[*R\">startTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"LL~YZUMd##]oie-52Af%\">targetTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\".N3zx-Ja/x;xftWRf[*R\">startTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">S</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"WCCvIv[Xi=?Z[A9^/dV|\">isBreakTime</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\"WCCvIv[Xi=?Z[A9^/dV|\">isBreakTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"w0-dKlR#w1fVDv~$lCXE\">lastmode</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\".N3zx-Ja/x;xftWRf[*R\">startTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"LL~YZUMd##]oie-52Af%\">targetTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\".N3zx-Ja/x;xftWRf[*R\">startTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">S</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement></block><block type=\"device_button_event\" x=\"1223\" y=\"20\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">Bボタン: （停止中）モード切替 / （作動中）残り時間表示</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"G*pTt.oc9p%U)7RqO9JL\">remainingMillis</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"LL~YZUMd##]oie-52Af%\">targetTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\",2:hWe$]o5Q|-HA7~VA]\">remainingMinutes</field><comment pinned=\"false\" h=\"80\" w=\"160\">★★★ 要望2: Math.ceilを削除し、小数点以下も表示 ★★★</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"G*pTt.oc9p%U)7RqO9JL\">remainingMillis</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\",2:hWe$]o5Q|-HA7~VA]\">remainingMinutes</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"w0-dKlR#w1fVDv~$lCXE\">lastmode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field></block></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></next></block></next></block></statement></block></statement></block><block type=\"device_button_event\" x=\"1988\" y=\"20\"><field name=\"NAME\">Button.AB</field><comment pinned=\"false\" h=\"80\" w=\"160\">★★★ 要望1: A+Bボタンの機能を全面的に変更 ★★★\nABボタン: 途中停止し、経過時間を送信して休憩を開始</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">勉強タイマーが動いている時（休憩中でない時）のみ反応</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"WCCvIv[Xi=?Z[A9^/dV|\">isBreakTime</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"9KGL$3g:cSYdYd$sA$eE\">elapsedTimeMillis</field><comment pinned=\"false\" h=\"80\" w=\"160\">1. そこまでの経過時間（分）を計算</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\".N3zx-Ja/x;xftWRf[*R\">startTime</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"z3-XD40T7~9W*Yr33?nB\">elapsedMinutes</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"9KGL$3g:cSYdYd$sA$eE\">elapsedTimeMillis</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value><next><block type=\"serial_writeline\"><comment pinned=\"false\" h=\"80\" w=\"160\">2. PCに経過時間（数字のみ）を送信</comment><value name=\"text\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">elapsedMinutes.toString()</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"WCCvIv[Xi=?Z[A9^/dV|\">isBreakTime</field><comment pinned=\"false\" h=\"80\" w=\"160\">3. そのまま休憩モードに移行（シェイクの時と同じ処理）</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"w0-dKlR#w1fVDv~$lCXE\">lastmode</field><comment pinned=\"false\" h=\"80\" w=\"160\">現在のモードを保存</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field><comment pinned=\"false\" h=\"80\" w=\"160\">休憩モード(5分)に設定</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\".N3zx-Ja/x;xftWRf[*R\">startTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"LL~YZUMd##]oie-52Af%\">targetTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\".N3zx-Ja/x;xftWRf[*R\">startTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Asleep</field><comment pinned=\"false\" h=\"80\" w=\"160\">休憩モードの合図</comment></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement></block><block type=\"device_forever\" x=\"2787\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">----------------------------------------\n"]]},{"start1":17958,"length1":8657,"diffs":[[1,"----------------------------------------</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"yAuOHd?ndMeDA/Xw*l3g\">currentTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\";Ts_ts8_-hO@opIHr0(y\">duration</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"pKx2!%lj#9HAL2+C/VJ1\">remainingRatio</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"LL~YZUMd##]oie-52Af%\">targetTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"yAuOHd?ndMeDA/Xw*l3g\">currentTime</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";Ts_ts8_-hO@opIHr0(y\">duration</field></block></value></block></value><next><block type=\"function_call\"><mutation name=\"displayProgressBar\" functionid=\"BX:=?EKM6)^7V1l0RuAZ\"><arg name=\"ratio\" id=\"gvucqr1lmq6qwkuqkw8lq\" type=\"number\"></arg></mutation><value name=\"gvucqr1lmq6qwkuqkw8lq\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"pKx2!%lj#9HAL2+C/VJ1\">remainingRatio</field></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"yAuOHd?ndMeDA/Xw*l3g\">currentTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"LL~YZUMd##]oie-52Af%\">targetTime</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"WCCvIv[Xi=?Z[A9^/dV|\">isBreakTime</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"r49^F=bCTLG*?f]D;},6\">finishedMode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field></block></value><next><block type=\"serial_writeline\"><comment pinned=\"false\" h=\"80\" w=\"160\">PCにログを送信 (数字のみ)</comment><value name=\"text\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">finishedMode.toString()</field></block></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Target</field></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"WCCvIv[Xi=?Z[A9^/dV|\">isBreakTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Happy</field></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block></statement></block><block type=\"device_gesture_event\" x=\"20\" y=\"981\"><field name=\"NAME\">Gesture.Shake</field><comment pinned=\"false\" h=\"80\" w=\"160\">シェイク: 休憩モードを開始</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"WCCvIv[Xi=?Z[A9^/dV|\">isBreakTime</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"WCCvIv[Xi=?Z[A9^/dV|\">isBreakTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"w0-dKlR#w1fVDv~$lCXE\">lastmode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\".N3zx-Ja/x;xftWRf[*R\">startTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"LL~YZUMd##]oie-52Af%\">targetTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\".N3zx-Ja/x;xftWRf[*R\">startTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Asleep</field></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement></block><block type=\"function_definition\" x=\"784\" y=\"981\"><mutation name=\"displayProgressBar\" functionid=\"BX:=?EKM6)^7V1l0RuAZ\"><arg name=\"ratio\" id=\"gvucqr1lmq6qwkuqkw8lq\" type=\"number\"></arg></mutation><field name=\"function_name\">displayProgressBar</field><comment pinned=\"false\" h=\"80\" w=\"160\">----------------------------------------\n"]]},{"start1":29640,"length1":716,"diffs":[[1,"        `</field></block></statement><statement name=\"ELSE\"><block type=\"device_clear_display\"></block></statement></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":117,"length1":135,"diffs":[[1,""]]},{"start1":414,"length1":38,"diffs":[[1,"    } else if (isTimerStart && isBreakTime) {\n"]]},{"start1":1361,"length1":48,"diffs":[[1,"        serial.writeLine(\"\" + (elapsedMinutes.toString()))\n"]]},{"start1":3613,"length1":17,"diffs":[[1,""]]}]}]},{"timestamp":1755235980370,"editorVersion":"8.0.15","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":1178,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</variable><variable id=\"WCCvIv[Xi=?Z[A9^/dV|\">isBreakTime</variable><variable id=\"~5e,#}3;X!v+j0D{EEX%\">mode</variable><variable id=\"w0-dKlR#w1fVDv~$lCXE\">lastmode</variable><variable id=\".N3zx-Ja/x;xftWRf[*R\">startTime</variable><variable id=\"LL~YZUMd##]oie-52Af%\">targetTime</variable><variable id=\"G*pTt.oc9p%U)7RqO9JL\">remainingMillis</variable><variable id=\",2:hWe$]o5Q|-HA7~VA]\">remainingMinutes</variable><variable id=\"9KGL$3g:cSYdYd$sA$eE\">elapsedTimeMillis</variable><variable id=\"z3-XD40T7~9W*Yr33?nB\">elapsedMinutes</variable><variable id=\"yAuOHd?ndMeDA/Xw*l3g\">currentTime</variable><variable id=\";Ts_ts8_-hO@opIHr0(y\">duration</variable><variable id=\"pKx2!%lj#9HAL2+C/VJ1\">remainingRatio</variable><variable id=\"r49^F=bCTLG*?f]D;},6\">finishedMode</variable><variable id=\"XnTW@E+J{zYf^-`~=*eZ\">test var</variable></variables><comment x=\"1280.5546875\" y=\"981\" w=\"400\" h=\"120\">\n----------------------------------------\n</comment><comment x=\"1725.5546875\" y=\"981\" w=\"209.59375\" h=\"120\">\nタイマーが作動中か\n</comment><comment x=\"1980.1484375\" y=\"981\" w=\"193.59375\" h=\"120\">\n現在が休憩時間か\n</comment><comment x=\"2218.7421875\" y=\"981\" w=\"196.78125\" h=\"120\">\n目標終了時刻 (ミリ秒)\n</comment><block type=\"device_button_event\" x=\"459\" y=\"20\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Aボタン: 新規タイマー開始 or 休憩から復帰</comment><data>0</data><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"WCCvIv[Xi=?Z[A9^/dV|\">isBreakTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"w0-dKlR#w1fVDv~$lCXE\">lastmode</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\".N3zx-Ja/x;xftWRf[*R\">startTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"LL~YZUMd##]oie-52Af%\">targetTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\".N3zx-Ja/x;xftWRf[*R\">startTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">S</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"WCCvIv[Xi=?Z[A9^/dV|\">isBreakTime</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\"WCCvIv[Xi=?Z[A9^/dV|\">isBreakTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"w0-dKlR#w1fVDv~$lCXE\">lastmode</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\".N3zx-Ja/x;xftWRf[*R\">startTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"LL~YZUMd##]oie-52Af%\">targetTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\".N3zx-Ja/x;xftWRf[*R\">startTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">S</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement></block><block type=\"pxt-on-start\" x=\"52\" y=\"56\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field><comment pinned=\"false\" h=\"80\" w=\"160\">----------------------------------------\n"]]},{"start1":6822,"length1":712,"diffs":[[1,"----------------------------------------</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"w0-dKlR#w1fVDv~$lCXE\">lastmode</field><comment pinned=\"false\" h=\"80\" w=\"160\">休憩に入る前のモードを保存</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value><next><block type=\"serial_redirect\"><field name=\"tx\">SerialPin.USB_TX</field><field name=\"rx\">SerialPin.USB_RX</field><field name=\"rate\">BaudRate.BaudRate115200</field><comment pinned=\"false\" h=\"80\" w=\"160\">開始時刻 (ミリ秒)\n"]]},{"start1":7488,"length1":246,"diffs":[[1,"----------------------------------------</comment><next><block type=\"variables_set\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field><comment pinned=\"false\" h=\"80\" w=\"160\">----------------------------------------\n"]]},{"start1":7717,"length1":19848,"diffs":[[1,"----------------------------------------</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"w0-dKlR#w1fVDv~$lCXE\">lastmode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"WCCvIv[Xi=?Z[A9^/dV|\">isBreakTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"1223\" y=\"20\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">Bボタン: （停止中）モード切替 / （作動中）残り時間表示</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"G*pTt.oc9p%U)7RqO9JL\">remainingMillis</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"LL~YZUMd##]oie-52Af%\">targetTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\",2:hWe$]o5Q|-HA7~VA]\">remainingMinutes</field><comment pinned=\"false\" h=\"80\" w=\"160\">★★★ 要望2: Math.ceilを削除し、小数点以下も表示 ★★★</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"G*pTt.oc9p%U)7RqO9JL\">remainingMillis</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\",2:hWe$]o5Q|-HA7~VA]\">remainingMinutes</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"w0-dKlR#w1fVDv~$lCXE\">lastmode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field></block></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></next></block></next></block></statement></block></statement></block><block type=\"device_button_event\" x=\"1988\" y=\"20\"><field name=\"NAME\">Button.AB</field><comment pinned=\"false\" h=\"80\" w=\"160\">★★★ 要望1: A+Bボタンの機能を全面的に変更 ★★★\nABボタン: 途中停止し、経過時間を送信して休憩を開始</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">勉強タイマーが動いている時（休憩中でない時）のみ反応</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"WCCvIv[Xi=?Z[A9^/dV|\">isBreakTime</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"9KGL$3g:cSYdYd$sA$eE\">elapsedTimeMillis</field><comment pinned=\"false\" h=\"80\" w=\"160\">1. そこまでの経過時間（分）を計算</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\".N3zx-Ja/x;xftWRf[*R\">startTime</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"z3-XD40T7~9W*Yr33?nB\">elapsedMinutes</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"9KGL$3g:cSYdYd$sA$eE\">elapsedTimeMillis</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value><next><block type=\"serial_writeline\"><comment pinned=\"false\" h=\"80\" w=\"160\">2. PCに経過時間（数字のみ）を送信</comment><value name=\"text\"><block type=\"variables_get\"><field name=\"VAR\" id=\"z3-XD40T7~9W*Yr33?nB\">elapsedMinutes</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"WCCvIv[Xi=?Z[A9^/dV|\">isBreakTime</field><comment pinned=\"false\" h=\"80\" w=\"160\">3. そのまま休憩モードに移行（シェイクの時と同じ処理）</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"w0-dKlR#w1fVDv~$lCXE\">lastmode</field><comment pinned=\"false\" h=\"80\" w=\"160\">現在のモードを保存</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field><comment pinned=\"false\" h=\"80\" w=\"160\">休憩モード(5分)に設定</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\".N3zx-Ja/x;xftWRf[*R\">startTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"LL~YZUMd##]oie-52Af%\">targetTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\".N3zx-Ja/x;xftWRf[*R\">startTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Asleep</field><comment pinned=\"false\" h=\"80\" w=\"160\">休憩モードの合図</comment></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement></block><block type=\"device_forever\" x=\"2888\" y=\"71\"><comment pinned=\"false\" h=\"80\" w=\"160\">----------------------------------------\n"]]},{"start1":17913,"length1":10971,"diffs":[[1,"----------------------------------------</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"yAuOHd?ndMeDA/Xw*l3g\">currentTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\";Ts_ts8_-hO@opIHr0(y\">duration</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"pKx2!%lj#9HAL2+C/VJ1\">remainingRatio</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"LL~YZUMd##]oie-52Af%\">targetTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"yAuOHd?ndMeDA/Xw*l3g\">currentTime</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";Ts_ts8_-hO@opIHr0(y\">duration</field></block></value></block></value><next><block type=\"function_call\"><mutation name=\"displayProgressBar\" functionid=\"BX:=?EKM6)^7V1l0RuAZ\"><arg name=\"ratio\" id=\"gvucqr1lmq6qwkuqkw8lq\" type=\"number\"></arg></mutation><value name=\"gvucqr1lmq6qwkuqkw8lq\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"pKx2!%lj#9HAL2+C/VJ1\">remainingRatio</field></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"yAuOHd?ndMeDA/Xw*l3g\">currentTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"LL~YZUMd##]oie-52Af%\">targetTime</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"WCCvIv[Xi=?Z[A9^/dV|\">isBreakTime</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"r49^F=bCTLG*?f]D;},6\">finishedMode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field></block></value><next><block type=\"serial_writeline\"><comment pinned=\"false\" h=\"80\" w=\"160\">PCにログを送信 (数字のみ)</comment><value name=\"text\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">finishedMode.toString()</field></block></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Target</field></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"WCCvIv[Xi=?Z[A9^/dV|\">isBreakTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Happy</field></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block></statement></block><block type=\"typescript_expression\" disabled-reasons=\"pxt_automatic_disabled\" x=\"2452\" y=\"277\"><field name=\"EXPRESSION\">elapsedMinutes.toString()</field></block><block type=\"variables_get\" disabled-reasons=\"pxt_automatic_disabled\" x=\"668\" y=\"487\"><field name=\"VAR\" id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</field></block><block type=\"device_gesture_event\" x=\"20\" y=\"981\"><field name=\"NAME\">Gesture.Shake</field><comment pinned=\"false\" h=\"80\" w=\"160\">シェイク: 休憩モードを開始</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"WCCvIv[Xi=?Z[A9^/dV|\">isBreakTime</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"WCCvIv[Xi=?Z[A9^/dV|\">isBreakTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"w0-dKlR#w1fVDv~$lCXE\">lastmode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"c}Ej8]s}@;/B#TJ?)wI2\">isTimerStart</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\".N3zx-Ja/x;xftWRf[*R\">startTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"LL~YZUMd##]oie-52Af%\">targetTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\".N3zx-Ja/x;xftWRf[*R\">startTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~5e,#}3;X!v+j0D{EEX%\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Asleep</field></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement></block><block type=\"function_definition\" x=\"784\" y=\"981\"><mutation name=\"displayProgressBar\" functionid=\"BX:=?EKM6)^7V1l0RuAZ\"><arg name=\"ratio\" id=\"gvucqr1lmq6qwkuqkw8lq\" type=\"number\"></arg></mutation><field name=\"function_name\">displayProgressBar</field><comment pinned=\"false\" h=\"80\" w=\"160\">----------------------------------------\n"]]},{"start1":26575,"length1":979,"diffs":[[1,"----------------------------------------</comment><value name=\"gvucqr1lmq6qwkuqkw8lq\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">ratio</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"4\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">ratio</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0.8</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n"]]},{"start1":27440,"length1":681,"diffs":[[1,"        `</field></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">ratio</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0.6</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n"]]},{"start1":28059,"length1":681,"diffs":[[1,"        `</field></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">ratio</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0.4</field></shadow></value></block></value><statement name=\"DO2\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n"]]},{"start1":28678,"length1":681,"diffs":[[1,"        `</field></block></statement><value name=\"IF3\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">ratio</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0.2</field></shadow></value></block></value><statement name=\"DO3\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n"]]},{"start1":29297,"length1":679,"diffs":[[1,"        `</field></block></statement><value name=\"IF4\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">ratio</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO4\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n"]]},{"start1":29914,"length1":175,"diffs":[[1,"        `</field></block></statement><statement name=\"ELSE\"><block type=\"device_clear_display\"></block></statement></block></statement></block><block type=\"device_pin_event\" x=\"1642\" y=\"1296\"><field name=\"name\">TouchPin.P0</field><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"XnTW@E+J{zYf^-`~=*eZ\">test var</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">123456789</field></shadow></value><next><block type=\"serial_writeline\"><comment pinned=\"false\" h=\"80\" w=\"160\">PCにログを送信 (数字のみ)</comment><value name=\"text\"><block type=\"variables_get\"><field name=\"VAR\" id=\"XnTW@E+J{zYf^-`~=*eZ\">test var</field></block></value></block></next></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":0,"diffs":[[1,"/**\n * ----------------------------------------\n */\n/**\n * タイマーが作動中か\n */\n/**\n * 現在が休憩時間か\n */\n/**\n * 目標終了時刻 (ミリ秒)\n */\ninput.onPinPressed(TouchPin.P0, function () {\n    test_var = 123456789\n    // PCにログを送信 (数字のみ)\n    serial.writeLine(\"\" + (test_var))\n})\n"]]},{"start1":549,"length1":46,"diffs":[[1,"    } else if (true && isBreakTime) {\n"]]},{"start1":3729,"length1":0,"diffs":[[1,"let test_var = 0\n"]]},{"start1":4897,"length1":54,"diffs":[[1,"                serial.writeLine(\"\" + (finishedMode.toString()))\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":228,"length1":44,"diffs":[[1,""]]}]},{"type":"added","filename":"test.ts","value":"// テストはここに来ます。このパッケージが拡張機能として使用されるときにはコンパイルされません。\n"}]}],"snapshots":[{"timestamp":1755230915353,"editorVersion":"8.0.15","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>","main.ts":"\n","README.md":"","pxt.json":"{\n    \"name\": \"自由研究2\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1755232716349,"editorVersion":"8.0.15","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</variable><variable id=\"O9P/PRPpvcl}s@MNVTCB\">mode</variable><variable id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</variable><variable id=\"doNQ@hoeD7j7x|CLT4Hi\">acc_x</variable><variable id=\"4zT7cX^qa/_c!f)oXBzD\">lastTime</variable><variable id=\"%8-!oNK!%UwyAXpQ|zvb\">currentTime</variable><variable id=\"M!2Kel.(SzwiSQG[c{4/\">remainingRatio</variable></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let acc_x = 0\" numlines=\"1\" declaredvars=\"acc_x\"></mutation><next><block type=\"serial_redirect\"><field name=\"tx\">SerialPin.USB_TX</field><field name=\"rx\">SerialPin.USB_RX</field><field name=\"rate\">BaudRate.BaudRate115200</field><next><block type=\"variables_set\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"264\" y=\"0\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_call\"><mutation name=\"StartTimer\" functionid=\"6SGC09S%C^9YefW)*?C{\"></mutation></block></statement></block></next></block></statement></block><block type=\"device_button_event\" x=\"-54\" y=\"429\"><field name=\"NAME\">Button.AB</field><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"doNQ@hoeD7j7x|CLT4Hi\">acc_x</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"serial_writeline\"><comment pinned=\"false\" h=\"80\" w=\"160\">writeLineは自動で改行をつけます</comment><value name=\"text\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">acc_x.toString()</field></block></value></block></next></block></statement></block><block type=\"device_button_event\" x=\"969\" y=\"508\"><field name=\"NAME\">Button.B</field><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></statement><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"device_show_number\"><value name=\"number\"><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></statement></block></statement></block><block type=\"device_gesture_event\" x=\"-271\" y=\"666\"><field name=\"NAME\">Gesture.Shake</field></block><block type=\"device_forever\" x=\"-54\" y=\"1130\"><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"%8-!oNK!%UwyAXpQ|zvb\">currentTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"M!2Kel.(SzwiSQG[c{4/\">remainingRatio</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%8-!oNK!%UwyAXpQ|zvb\">currentTime</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"function_call\"><mutation name=\"displayProgressBar\" functionid=\"TYN0,S1E%)P@-DzWg~cO\"><arg name=\"ratio\" id=\"2f1uh8wgoov55jj7nj4g\" type=\"number\"></arg></mutation><value name=\"2f1uh8wgoov55jj7nj4g\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"M!2Kel.(SzwiSQG[c{4/\">remainingRatio</field></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%8-!oNK!%UwyAXpQ|zvb\">currentTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"device_clear_display\"><next><block type=\"variables_set\"><field name=\"VAR\" id=\"doNQ@hoeD7j7x|CLT4Hi\">acc_x</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><next><block type=\"serial_writeline\"><comment pinned=\"false\" h=\"80\" w=\"160\">writeLineは自動で改行をつけます</comment><value name=\"text\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">acc_x.toString()</field></block></value><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">1秒待つ</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></statement></block><block type=\"function_definition\" x=\"-54\" y=\"1823\"><mutation name=\"displayProgressBar\" functionid=\"TYN0,S1E%)P@-DzWg~cO\"><arg name=\"ratio\" id=\"2f1uh8wgoov55jj7nj4g\" type=\"number\"></arg></mutation><field name=\"function_name\">displayProgressBar</field><value name=\"2f1uh8wgoov55jj7nj4g\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">ratio</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"4\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">ratio</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0.8</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        # # # # # \n        # # # # # \n        # # # # # \n        # # # # # \n        # # # # #\n        `</field></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">ratio</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0.6</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        . . . . . \n        # # # # # \n        # # # # # \n        # # # # # \n        # # # # #\n        `</field></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">ratio</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0.4</field></shadow></value></block></value><statement name=\"DO2\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        . . . . . \n        . . . . . \n        # # # # # \n        # # # # # \n        # # # # #\n        `</field></block></statement><value name=\"IF3\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">ratio</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0.2</field></shadow></value></block></value><statement name=\"DO3\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        . . . . . \n        . . . . . \n        . . . . . \n        # # # # # \n        # # # # #\n        `</field></block></statement><value name=\"IF4\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">ratio</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO4\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        . . . . . \n        . . . . . \n        . . . . . \n        . . . . . \n        # # # # #\n        `</field></block></statement><statement name=\"ELSE\"><block type=\"device_clear_display\"></block></statement></block></statement></block><block type=\"function_definition\" x=\"442\" y=\"1823\"><mutation name=\"StartTimer\" functionid=\"6SGC09S%C^9YefW)*?C{\"></mutation><field name=\"function_name\">StartTimer</field><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"4zT7cX^qa/_c!f)oXBzD\">lastTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value></block></next></block></statement></block></xml>","main.ts":"input.onButtonPressed(Button.A, function () {\n    targetTime = input.runningTime() + mode * 60000\n    if (!(isTimerStart)) {\n        StartTimer()\n    }\n})\ninput.onGesture(Gesture.Shake, function () {\n    isTimerStart = false\n    \n})\ninput.onButtonPressed(Button.AB, function () {\n    acc_x = mode - (targetTime - input.runningTime()) / 60000\n    // writeLineは自動で改行をつけます\n    serial.writeLine(\"\" + (acc_x.toString()))\n})\ninput.onButtonPressed(Button.B, function () {\n    if (!(isTimerStart)) {\n        if (mode == 25) {\n            mode = 50\n        } else {\n            mode = 25\n        }\n        basic.showNumber(mode)\n        basic.pause(1000)\n        basic.clearScreen()\n    } else {\n        basic.showNumber((targetTime - input.runningTime()) / 60000)\n    }\n})\nfunction displayProgressBar (ratio: number) {\n    if (ratio > 0.8) {\n        basic.showLeds(`\n            # # # # #\n            # # # # #\n            # # # # #\n            # # # # #\n            # # # # #\n            `)\n    } else if (ratio > 0.6) {\n        basic.showLeds(`\n            . . . . .\n            # # # # #\n            # # # # #\n            # # # # #\n            # # # # #\n            `)\n    } else if (ratio > 0.4) {\n        basic.showLeds(`\n            . . . . .\n            . . . . .\n            # # # # #\n            # # # # #\n            # # # # #\n            `)\n    } else if (ratio > 0.2) {\n        basic.showLeds(`\n            . . . . .\n            . . . . .\n            . . . . .\n            # # # # #\n            # # # # #\n            `)\n    } else if (ratio > 0) {\n        basic.showLeds(`\n            . . . . .\n            . . . . .\n            . . . . .\n            . . . . .\n            # # # # #\n            `)\n    } else {\n        basic.clearScreen()\n    }\n}\nfunction StartTimer () {\n    isTimerStart = true\n    lastTime = mode\n}\nlet remainingRatio = 0\nlet currentTime = 0\nlet lastTime = 0\nlet isTimerStart = false\nlet targetTime = 0\nlet mode = 0\nlet acc_x = 0\nserial.redirect(\nSerialPin.USB_TX,\nSerialPin.USB_RX,\nBaudRate.BaudRate115200\n)\nmode = 25\nbasic.forever(function () {\n    if (isTimerStart) {\n        currentTime = input.runningTime()\n        remainingRatio = (targetTime - currentTime) / (mode * 60000)\n        displayProgressBar(remainingRatio)\n        if (currentTime >= targetTime) {\n            isTimerStart = false\n            basic.clearScreen()\n            acc_x = mode\n            // writeLineは自動で改行をつけます\n            serial.writeLine(\"\" + (acc_x.toString()))\n            // 1秒待つ\n            basic.pause(1000)\n        }\n    }\n})\n","README.md":"","pxt.json":"{\n    \"name\": \"自由研究2\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1755234574686,"editorVersion":"8.0.15","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</variable><variable id=\"O9P/PRPpvcl}s@MNVTCB\">mode</variable><variable id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</variable><variable id=\"doNQ@hoeD7j7x|CLT4Hi\">acc_x</variable><variable id=\"4zT7cX^qa/_c!f)oXBzD\">lastTime</variable><variable id=\"%8-!oNK!%UwyAXpQ|zvb\">currentTime</variable><variable id=\"M!2Kel.(SzwiSQG[c{4/\">remainingRatio</variable></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let acc_x = 0\" numlines=\"1\" declaredvars=\"acc_x\"></mutation><next><block type=\"serial_redirect\"><field name=\"tx\">SerialPin.USB_TX</field><field name=\"rx\">SerialPin.USB_RX</field><field name=\"rate\">BaudRate.BaudRate115200</field><next><block type=\"variables_set\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"264\" y=\"0\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_call\"><mutation name=\"StartTimer\" functionid=\"6SGC09S%C^9YefW)*?C{\"></mutation></block></statement></block></next></block></statement></block><block type=\"device_button_event\" x=\"-54\" y=\"429\"><field name=\"NAME\">Button.AB</field><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"doNQ@hoeD7j7x|CLT4Hi\">acc_x</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"serial_writeline\"><comment pinned=\"false\" h=\"80\" w=\"160\">writeLineは自動で改行をつけます</comment><value name=\"text\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">acc_x.toString()</field></block></value></block></next></block></statement></block><block type=\"device_button_event\" x=\"969\" y=\"508\"><field name=\"NAME\">Button.B</field><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value></block></statement><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"device_show_number\"><value name=\"number\"><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></statement></block></statement></block><block type=\"device_gesture_event\" x=\"-271\" y=\"666\"><field name=\"NAME\">Gesture.Shake</field></block><block type=\"device_forever\" x=\"-54\" y=\"1130\"><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"%8-!oNK!%UwyAXpQ|zvb\">currentTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"M!2Kel.(SzwiSQG[c{4/\">remainingRatio</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%8-!oNK!%UwyAXpQ|zvb\">currentTime</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">60000</field></shadow></value></block></value></block></value><next><block type=\"function_call\"><mutation name=\"displayProgressBar\" functionid=\"TYN0,S1E%)P@-DzWg~cO\"><arg name=\"ratio\" id=\"2f1uh8wgoov55jj7nj4g\" type=\"number\"></arg></mutation><value name=\"2f1uh8wgoov55jj7nj4g\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"M!2Kel.(SzwiSQG[c{4/\">remainingRatio</field></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%8-!oNK!%UwyAXpQ|zvb\">currentTime</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"DBLF|@p5Cm0uwxv@=Goo\">targetTime</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"device_clear_display\"><next><block type=\"variables_set\"><field name=\"VAR\" id=\"doNQ@hoeD7j7x|CLT4Hi\">acc_x</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value><next><block type=\"serial_writeline\"><comment pinned=\"false\" h=\"80\" w=\"160\">writeLineは自動で改行をつけます</comment><value name=\"text\"><block type=\"typescript_expression\"><field name=\"EXPRESSION\">acc_x.toString()</field></block></value><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">1秒待つ</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></statement></block><block type=\"function_definition\" x=\"-54\" y=\"1823\"><mutation name=\"displayProgressBar\" functionid=\"TYN0,S1E%)P@-DzWg~cO\"><arg name=\"ratio\" id=\"2f1uh8wgoov55jj7nj4g\" type=\"number\"></arg></mutation><field name=\"function_name\">displayProgressBar</field><value name=\"2f1uh8wgoov55jj7nj4g\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">ratio</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"4\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">ratio</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0.8</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        # # # # # \n        # # # # # \n        # # # # # \n        # # # # # \n        # # # # #\n        `</field></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">ratio</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0.6</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        . . . . . \n        # # # # # \n        # # # # # \n        # # # # # \n        # # # # #\n        `</field></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">ratio</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0.4</field></shadow></value></block></value><statement name=\"DO2\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        . . . . . \n        . . . . . \n        # # # # # \n        # # # # # \n        # # # # #\n        `</field></block></statement><value name=\"IF3\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">ratio</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0.2</field></shadow></value></block></value><statement name=\"DO3\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        . . . . . \n        . . . . . \n        . . . . . \n        # # # # # \n        # # # # #\n        `</field></block></statement><value name=\"IF4\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">ratio</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO4\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        . . . . . \n        . . . . . \n        . . . . . \n        . . . . . \n        # # # # #\n        `</field></block></statement><statement name=\"ELSE\"><block type=\"device_clear_display\"></block></statement></block></statement></block><block type=\"function_definition\" x=\"442\" y=\"1823\"><mutation name=\"StartTimer\" functionid=\"6SGC09S%C^9YefW)*?C{\"></mutation><field name=\"function_name\">StartTimer</field><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"VoDi[=^fwUAjP@Gaa#|Y\">isTimerStart</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"4zT7cX^qa/_c!f)oXBzD\">lastTime</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O9P/PRPpvcl}s@MNVTCB\">mode</field></block></value></block></next></block></statement></block></xml>","main.ts":"input.onButtonPressed(Button.A, function () {\n    if (!isTimerStart) {\n        if (isBreakTime) {\n            isBreakTime = false\n            mode = lastmode\n        }\n        isTimerStart = true\n        startTime = input.runningTime() // 開始時刻を記録\n        targetTime = startTime + mode * 60000\n        basic.showString(\"S\")\n    } else if (isTimerStart && isBreakTime) {\n        isBreakTime = false\n        mode = lastmode\n        isTimerStart = true\n        startTime = input.runningTime() // 開始時刻を再記録\n        targetTime = startTime + mode * 60000\n        basic.showString(\"S\")\n    }\n})\ninput.onGesture(Gesture.Shake, function () {\n\n    if (isTimerStart && !(isBreakTime)) {\n\n\n        let elapsedTimeMillis = input.runningTime() - startTime\n\n        // ミリ秒を「分」に変換 (小数点以下は切り捨て)\n        let elapsedMinutes = Math.floor(elapsedTimeMillis / 60000)\n\n        acc_x = elapsedMinutes\n        // writeLineは自動で改行をつけます\n        serial.writeLine(\"\" + (acc_x.toString()))\n\n\n        isBreakTime = true\n        lastmode = mode\n        mode = 5\n        isTimerStart = true\n        startTime = input.runningTime() // 休憩開始時刻を記録\n        targetTime = startTime + mode * 60000\n        basic.showIcon(IconNames.Asleep)\n        \n    }\n})\ninput.onButtonPressed(Button.AB, function () {\n\n})\ninput.onButtonPressed(Button.B, function () {\n    if (!(isTimerStart)) {\n        if (mode == 25) {\n            mode = 50\n        } else {\n            mode = 25\n        }\n        basic.showNumber(mode)\n        basic.pause(1000)\n        basic.clearScreen()\n    } else {\n        basic.showNumber((targetTime - input.runningTime()) / 60000)\n    }\n})\nfunction displayProgressBar (ratio: number) {\n    if (ratio > 0.8) {\n        basic.showLeds(`\n            # # # # #\n            # # # # #\n            # # # # #\n            # # # # #\n            # # # # #\n            `)\n    } else if (ratio > 0.6) {\n        basic.showLeds(`\n            . . . . .\n            # # # # #\n            # # # # #\n            # # # # #\n            # # # # #\n            `)\n    } else if (ratio > 0.4) {\n        basic.showLeds(`\n            . . . . .\n            . . . . .\n            # # # # #\n            # # # # #\n            # # # # #\n            `)\n    } else if (ratio > 0.2) {\n        basic.showLeds(`\n            . . . . .\n            . . . . .\n            . . . . .\n            # # # # #\n            # # # # #\n            `)\n    } else if (ratio > 0) {\n        basic.showLeds(`\n            . . . . .\n            . . . . .\n            . . . . .\n            . . . . .\n            # # # # #\n            `)\n    } else {\n        basic.clearScreen()\n    }\n}\nfunction StartTimer () {\n    isTimerStart = true\n    lastTime = mode\n}\nlet remainingRatio = 0\nlet currentTime = 0\nlet lastTime = 0\nlet isTimerStart = false\nlet targetTime = 0\nlet mode = 0\nlet lastmode = 0\nlet acc_x = 0\nlet isBreakTime = false\nlet startTime = 0\nserial.redirect(\nSerialPin.USB_TX,\nSerialPin.USB_RX,\nBaudRate.BaudRate115200\n)\nmode = 25\nbasic.forever(function () {\n    if (isTimerStart) {\n        currentTime = input.runningTime()\n        remainingRatio = (targetTime - currentTime) / (mode * 60000)\n        displayProgressBar(remainingRatio)\n        if (currentTime >= targetTime) {\n            isTimerStart = false\n            basic.clearScreen()\n            if (!isBreakTime)  {\n\n            acc_x = mode\n            // writeLineは自動で改行をつけます\n            serial.writeLine(\"\" + (acc_x.toString()))\n            // 1秒待つ\n            basic.pause(1000)\n            }\n        }\n        if (mode == 5) { isBreakTime = false }\n    }\n})\n","README.md":"","pxt.json":"{\n    \"name\": \"自由研究2\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}}],"shares":[],"lastSaveTime":1755236362819}